!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e69ae5e6-1d31-4102-ba0a-26806aa1427d",e._sentryDebugIdIdentifier="sentry-dbid-e69ae5e6-1d31-4102-ba0a-26806aa1427d")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5653],{8404:function(e,t,r){"use strict";r.d(t,{Z:function(){return components_Factsheet}});var n=r(85893);r(67294);var l=r(76343),c=r(14293),a=r.n(c);let o={MOhm:"Mâ„¦"};var components_Unit=e=>{var t;let{value:r=""}=e;return(0,n.jsx)(n.Fragment,{children:null!==(t=o[r])&&void 0!==t?t:r})},i=r(43483);let s=(0,i.o)(),FactsheetSingleValueEntry=e=>{let{fact:t}=e;return(0,n.jsxs)("div",{className:"row mt-1",children:[(0,n.jsx)("div",{className:"col-xs-6 col-sm-4 name",children:(0,n.jsx)(s,{term:t.name,description:t.description})}),(0,n.jsx)("div",{className:"col-xs-6 col-sm-8 value",children:a()(t.value)?(0,n.jsx)("span",{children:"-"}):(0,n.jsxs)("span",{children:[(0,n.jsx)(l.Z,{value:t.value})," ",(0,n.jsx)(components_Unit,{value:t.units||t.unit})]})})]})},FactsheetSingleMeanStdEntry=e=>{var t,r,l,c,a,o,i,u;let{fact:d}=e,m=null!==(o=null===(t=d.value_map)||void 0===t?void 0:t.mean)&&void 0!==o?o:null!==(a=null===(r=d.values)||void 0===r?void 0:r[0])&&void 0!==a?a:"-",p=null!==(u=null===(l=d.value_map)||void 0===l?void 0:l.std)&&void 0!==u?u:null!==(i=null===(c=d.values)||void 0===c?void 0:c[1])&&void 0!==i?i:"-",formatValue=e=>"number"==typeof e?e.toFixed(3):e,formatNumberWithoutCommas=e=>"number"==typeof e?e.toString().replace(/,/g,""):e;return(0,n.jsxs)("div",{className:"row mt-1",children:[(0,n.jsx)("div",{className:"col-xs-4 name",children:(0,n.jsx)(s,{term:d.name,description:d.description})}),(0,n.jsxs)("div",{className:"col-xs-4 value",children:[formatNumberWithoutCommas(formatValue(m)),"-"!==p?(0,n.jsxs)(n.Fragment,{children:[" \xb1 ",formatNumberWithoutCommas(formatValue(p))]}):"",d.units||d.unit&&(0,n.jsxs)(n.Fragment,{children:[" ",d.units||d.unit]})]})]})},FactsheetMapValueEntry=e=>{let{fact:t}=e,r=Math.max.apply(null,Object.values(t.value_map).map(e=>parseFloat(e))),c=t.units||t.unit,a=Object.entries(t.value_map).map(e=>{let[t,a]=e,o=parseFloat(a)/r*80;return(0,n.jsxs)("div",{className:"row mb-1",children:[(0,n.jsxs)("div",{className:"col-xs-6 pos-relative",children:[t,(0,n.jsx)("div",{className:"bar",style:{width:"".concat(o,"%")}})]}),(0,n.jsxs)("div",{className:"col-xs-6",children:[(0,n.jsx)(l.Z,{value:a})," ",(0,n.jsx)(components_Unit,{value:c})]})]},t)});return(0,n.jsxs)("div",{className:"row mt-1",children:[(0,n.jsx)("div",{className:"col-xs-6 col-lg-4 name",children:(0,n.jsx)(s,{term:t.name,description:t.description})}),(0,n.jsx)("div",{className:"col-xs-6 col-lg-8",children:a})]})},FactsheetEntry=e=>{let{fact:t}=e;return t.value_map&&!a()(t.value_map.mean)&&!a()(t.value_map.std)||Array.isArray(t.values)?(0,n.jsx)(FactsheetSingleMeanStdEntry,{fact:t}):t.value_map?(0,n.jsx)(FactsheetMapValueEntry,{fact:t}):(0,n.jsx)(FactsheetSingleValueEntry,{fact:t})};var components_Factsheet=e=>{let{facts:t,className:r=""}=e;return(0,n.jsx)("div",{className:"".concat("factsheet__","basis ").concat(r),children:t.map((e,t)=>(0,n.jsx)(FactsheetEntry,{fact:e},"".concat(e.name,"-").concat(t)))})}},69313:function(e,t,r){"use strict";var n=r(85893),l=r(67294),c=r(34966),a=r(46262);t.Z=e=>{let{path:t,children:r,label:o=""}=e,i=null==t?void 0:t.match(/\.msgpack/),[s,u]=l.useState({data:null,loading:!0,error:null});return(l.useEffect(()=>{t&&(u({...s,loading:!0}),fetch(t).then(async e=>{if(e.ok){if(i){if(e.body)return(0,a.ti)(e.body);let r=Error("Response body is null for ".concat(t));return(0,c.Tb)(r),Promise.reject(r)}let r=await e.text();return JSON.parse(r.replace(/NaN/g,"null"))}let r=Error("Can't fetch ".concat(t));return(0,c.Tb)(r),Promise.reject(r)}).then(e=>u({...s,data:e,error:null,loading:!1})).catch(e=>u({...s,error:e,data:null,loading:!1})))},[t]),t)?s.error?(0,n.jsx)("p",{children:t}):(0,n.jsx)(n.Fragment,{children:r(s.data,s.loading,s.error)}):null}},76343:function(e,t,r){"use strict";r(67294),t.Z=e=>{let{value:t,significantFigures:r=5,thousandSeparator:n=!0,prefix:l="",suffix:c=""}=e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=parseFloat(e);if(!Number.isFinite(c))return e;let a=r?c.toLocaleString("en",{maximumSignificantDigits:t}):c.toPrecision(t);return"".concat(n).concat(a).concat(l)}(t,r,n,l,c)}},82718:function(e,t,r){"use strict";var n=r(85893);r(67294);var l=r(93967),c=r.n(l),a=r(51763),o=r.n(a);t.Z=e=>{let{centered:t,children:r}=e;return(0,n.jsx)("div",{className:o().flexWrapper,children:(0,n.jsx)("div",{className:c()(o().container,t?o()["container--centered"]:""),children:r})})}},43483:function(e,t,r){"use strict";r.d(t,{o:function(){return termFactory}});var n=r(85893);r(67294);var l=r(94055),c=r(33511),a=r.n(c);let termFactory=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return r=>{let{className:c,term:o,description:i}=r,s=i||e[o],u=t?t(o):o;return s?(0,n.jsx)(l.default,{title:s,destroyTooltipOnHide:!0,children:(0,n.jsx)("span",{className:"".concat(a().container," ").concat(null!=c?c:""),children:u})}):(0,n.jsx)("span",{className:c,children:u})}}},22633:function(e,t,r){"use strict";var n=r(85893),l=r(67294),c=r(99477),a=r(87011),o=r(97157),i=r(71711),s=r(61267),u=r(17931),d=r(80204),m=r.n(d);t.Z=e=>{let{value:t="region",onSelect:r=()=>{},theme:d=2}=e,p=(0,l.useRef)(null),f=(0,l.useRef)(null),v=(0,l.useRef)(t),h=(0,l.useRef)(null),y=(0,l.useRef)(null),_=(0,l.useRef)(null),S=(0,l.useRef)(null),g=(0,l.useRef)(null),x=(0,l.useRef)(new c.FM8),j=(0,l.useRef)(null),b=(0,l.useRef)(null),E=(0,l.useRef)(null),w=(0,l.useRef)(!1),[C,N]=(0,l.useState)(21),[P,M]=(0,l.useState)(1),A=(0,l.useCallback)(e=>{if(!w.current)return;let t=p.current.getBoundingClientRect();x.current.x=(e.clientX-t.left)/t.width*2-1,x.current.y=-(2*((e.clientY-t.top)/t.height))+1,g.current.setFromCamera(x.current,y.current);let n=g.current.intersectObjects([j.current,b.current,E.current],!0);if(n.length>0){let e=n[0].object;for(;e.parent&&![j.current,b.current,E.current].includes(e);)e=e.parent;if([j.current,b.current,E.current].includes(e)){let t=e.userData.volumeSection;t&&(updateSelection(t,e),r(t))}}},[r,d]),updateSelection=(e,t)=>{h.current&&updateObjectColors(h.current,s.rS[d].default,s.rS[d].hover),updateObjectColors(t,s.rS[d].selected,16777215),v.current=e,h.current=t},updateObjectColors=(e,t,r)=>{e.traverse(n=>{n instanceof c.Kj0&&(n.name===e.userData.volumeSection&&n.material.color.set(t),n.geometry&&"TextGeometry"===n.geometry.type&&n.material.color.set(r))})};(0,l.useEffect)(()=>{if(!p.current)return;_.current=new c.xsS,_.current.background=new c.Ilk("#313354");let e=p.current.clientWidth/p.current.clientHeight;y.current=new c.iKG(-(200*e),200*e,200,-200,.1,1e3),y.current.position.z=10,S.current=new c.CP7({antialias:!0,alpha:!0}),S.current.setSize(p.current.clientWidth,p.current.clientHeight),S.current.setPixelRatio(window.devicePixelRatio),p.current.appendChild(S.current.domElement),g.current=new c.iMs;let r=new a.L;r.load("".concat(u.$N,"/3d/volume-selector/volume-selector.obj"),e=>{[j,b,E].forEach((t,r)=>{let n=e.clone();t.current=n,n.position.set((r-1)*C,0,0),n.userData.volumeSection=["region","slice","cylinder"][r],applyMaterial(n,r),_.current.add(n)});let r=new o.J;r.load("".concat(u.sb,"/assets/fonts/Titillium_Web_Light_.json"),e=>{["Region","Slice","Cylinder"].forEach((t,r)=>{createText(t,[j,b,E][r].current,t.toLowerCase(),e)})}),w.current=!0,t&&setInitialSelection(t),animate()},e=>console.log(e.loaded/e.total*100+"% loaded"),e=>console.error("An error happened",e));let animate=()=>{requestAnimationFrame(animate),S.current.render(_.current,y.current)},handleResize=()=>{if(p.current&&S.current&&y.current){let e=p.current.clientWidth,t=p.current.clientHeight;S.current.setSize(e,t);let r=e/t;y.current.left=-(200*r),y.current.right=200*r,y.current.top=200,y.current.bottom=-200,y.current.updateProjectionMatrix();let n=window.innerWidth<1400?16:21;N(n),y.current.zoom=window.innerWidth<1200?11:16,y.current.updateProjectionMatrix();let l=window.innerWidth<1200?1:.8;M(l),updateTextSize()}},handleMouseMove=e=>{if(!w.current)return;let t=p.current.getBoundingClientRect();x.current.x=(e.clientX-t.left)/t.width*2-1,x.current.y=-(2*((e.clientY-t.top)/t.height))+1,g.current.setFromCamera(x.current,y.current);let r=g.current.intersectObjects([j.current,b.current,E.current],!0);if(r.length>0){let e=r[0].object;for(;e.parent&&![j.current,b.current,E.current].includes(e);)e=e.parent;f.current!==e&&h.current!==e&&(f.current&&f.current!==h.current&&updateObjectColors(f.current,s.rS[d].default,s.rS[d].hover),updateObjectColors(e,s.rS[d].hover,s.rS[d].hover),f.current=e,p.current.style.cursor="pointer")}else f.current&&f.current!==h.current&&(updateObjectColors(f.current,s.rS[d].default,s.rS[d].hover),f.current=null,p.current.style.cursor="default")};return window.addEventListener("resize",handleResize),p.current.addEventListener("mousemove",handleMouseMove),p.current.addEventListener("click",A),handleResize(),()=>{window.removeEventListener("resize",handleResize),p.current&&(p.current.removeEventListener("mousemove",handleMouseMove),p.current.removeEventListener("click",A),p.current.removeChild(S.current.domElement))}},[d]),(0,l.useEffect)(()=>{w.current&&[j,b,E].forEach((e,t)=>{e.current&&e.current.position.set((t-1)*C,0,0)})},[C]),(0,l.useEffect)(()=>{w.current&&t&&setInitialSelection(t)},[t,d]);let applyMaterial=(e,t)=>{e.traverse(t=>{if(t instanceof c.Kj0){let r;if(t.name===e.userData.volumeSection)r=new c.vBJ({color:s.rS[d].default,transparent:!1,opacity:1,depthWrite:!0}),t.renderOrder=2;else if("skeleton"===t.name){r=new c.vBJ({color:s.rS[d].selectedEdges,transparent:!0,opacity:0,depthWrite:!1});let e=new c.TOt(t.geometry),n=new c.nls({color:s.rS[d].default,transparent:!0,opacity:1,depthWrite:!1}),l=new c.ejS(e,n);l.renderOrder=1,t.add(l)}else t.visible=!1;r&&(t.material=r)}})},createText=(e,t,r,n)=>{let l=new i.M(e,{font:n,size:P,height:.2,curveSegments:32,bevelEnabled:!0,bevelThickness:.02,bevelSize:.02}),a=v.current===r?16777215:s.rS[d].hover,o=new c.vBJ({color:a,transparent:!1,opacity:1}),u=new c.Kj0(l,o);t.traverse(e=>{e instanceof c.Kj0&&e.name===r&&(u.position.set(0,0,0),e.add(u))})},updateTextSize=()=>{["Region","Slice","Cylinder"].forEach((e,t)=>{let r=[j,b,E][t].current;r&&r.traverse(t=>{if(t instanceof c.Kj0&&t.geometry&&"TextGeometry"===t.geometry.type){let n=t.parent;if(n){n.remove(t);let l=new o.J;l.load("".concat(u.sb,"/assets/fonts/Titillium_Web_Light_.json"),t=>{createText(e,r,e.toLowerCase(),t)})}}})})},setInitialSelection=e=>{let t=[j,b,E].find(t=>{var r;return(null===(r=t.current)||void 0===r?void 0:r.userData.volumeSection)===e});(null==t?void 0:t.current)&&updateSelection(e,t.current)};return(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsx)("div",{className:m().volumeSelector,ref:p}),(0,n.jsx)("div",{className:m().volumeList})]})}},61267:function(e,t,r){"use strict";r.d(t,{N4:function(){return o},ST:function(){return u},defaultSelection:function(){return d},hk:function(){return s},jo:function(){return i},lB:function(){return a},nQ:function(){return m},rS:function(){return l},ug:function(){return n},x8:function(){return c}});let n=["SLM","SR","SP","SO"],l={1:{default:4472923,hover:8217967,selected:11962755,selectedEdges:15707799},2:{default:4472923,hover:8084330,selected:11761017,selectedEdges:15372424},3:{default:4472923,hover:7428464,selected:10449284,selectedEdges:13404825},4:{default:4472923,hover:6446455,selected:8420242,selectedEdges:10393774},5:{default:3751262,hover:5856633,selected:7240599,selectedEdges:8624309}},c={red:"#C46785",blue:"#3b4165",green:"#7FD982",purple:"#7F5482",yellow:"#f9f871"},a={experimental_data:"#EFAE97",reconstruction_data:"#EA9088",digital_reconstruction:"#CC8A99",validations:"#9E98AE",predictions:"#8398B5"},o=["all","axon","apical","basal","dendrite","soma"],i=["region","slice","cylinder"],s=["0um","10um","100um"],u=["All","Excitatory","Inhibitory","SLM_PPA","SO_BP","SO_BS","SO_OLM","SO_Tri","SP_AA","SP_BS","SP_CCKBC","SP_Ivy","SP_PC","SP_PVBC","SR_SCA"],d={experimentalData:{layerAnatomy:{layer:"SLM"},neuronMorphology:{layer:"SLM",mtype:"SLM_PPA",instance:"011127HP1"},neuronElectrophysiology:{etype:"bAC",etype_instance:"95810035"}},reconstructionData:{volume:{volume_section:"region"},cellComposition:{volume_section:"region"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"CA1_int_bAC_011127HP1_20190329115610"}},digitalReconstruction:{region:{volume_section:"region"},morphologyLibrary:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",morphology:"011127HP1"},schafferCollateral:{volume_section:"region",prelayer:"SC",postlayer:"All"},connectionAnatomy:{volume_section:"region",prelayer:"All",postlayer:"All"},connectionPhysiology:{volume_section:"region",prelayer:"all",postlayer:"all"},acetylcholineEffectsOnCell:{morphology:"450290",etype:"cNAC",mtype:"SO_BP"},acetylcholineEffectsOnSynapses:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"011127HP1"},NeuronModelLibrary:{mtype:"SO_BP",etype:"cNAC",morphology:"980120A_-_Scale_x1.000_y0.900_z1.000"},synapticPathways:{volume_section:"slice",prelayer:"All",postlayer:"All"},acetylcholine:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"}}},m={all:"#1fcf1f",axon:"#1111ff",apical:"#f442ad",basal:"#ff1111",dendrite:"#ff1111",soma:"#000"}},28354:function(e,t,r){"use strict";var n=r(85893),l=r(67294),c=r(11163);t.Z=(e,t)=>()=>{let r=(0,c.useRouter)();return(0,l.useEffect)(()=>{if(r.isReady&&!r.query[t.key]){let e=t.defaultQuery;r.replace({query:e},void 0,{shallow:!0})}},[r.query]),(0,n.jsx)(e,{})}},51763:function(e){e.exports={container:"styles_container__31D34","container--center":"styles_container--center__Yuntq",flexWrapper:"styles_flexWrapper___gDLe"}},33511:function(e){e.exports={container:"styles_container__pHcWR"}},80204:function(e){e.exports={container:"styles_container__NKkJz",volumeSelector:"styles_volumeSelector__dN4Dl",volumeList:"styles_volumeList__5Src0",volumeSection:"styles_volumeSection__yJuJz",active:"styles_active__RrlYY"}}}]);
//# sourceMappingURL=5653-ca871a67fb3f184f.js.map