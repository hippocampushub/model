(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8808],{40815:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reconstruction-data/cell-composition",function(){return n(78363)}])},76343:function(e,t,n){"use strict";n(67294),t.Z=e=>{let{value:t,significantFigures:n=5,thousandSeparator:r=!0,prefix:o="",suffix:l=""}=e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=parseFloat(e);if(!Number.isFinite(l))return e;let i=n?l.toLocaleString("en",{maximumSignificantDigits:t}):l.toPrecision(t);return"".concat(r).concat(i).concat(o)}(t,n,r,o,l)}},82718:function(e,t,n){"use strict";var r=n(85893);n(67294);var o=n(93967),l=n.n(o),i=n(51763),c=n.n(i);t.Z=e=>{let{centered:t,children:n}=e;return(0,r.jsx)("div",{className:c().flexWrapper,children:(0,r.jsx)("div",{className:l()(c().container,t?c()["container--centered"]:""),children:n})})}},43483:function(e,t,n){"use strict";n.d(t,{o:function(){return termFactory}});var r=n(85893);n(67294);var o=n(94055),l=n(33511),i=n.n(l);let termFactory=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return n=>{let{className:l,term:c,description:a}=n,s=a||e[c],u=t?t(c):c;return s?(0,r.jsx)(o.default,{title:s,destroyTooltipOnHide:!0,children:(0,r.jsx)("span",{className:"".concat(i().container," ").concat(null!=l?l:""),children:u})}):(0,r.jsx)("span",{className:l,children:u})}}},22633:function(e,t,n){"use strict";var r=n(85893),o=n(67294),l=n(99477),i=n(87011),c=n(97157),a=n(71711),s=n(61267),u=n(17931),d=n(80204),m=n.n(d);t.Z=e=>{let{value:t="region",onSelect:n=()=>{},theme:d=2}=e,p=(0,o.useRef)(null),h=(0,o.useRef)(null),f=(0,o.useRef)(t),y=(0,o.useRef)(null),x=(0,o.useRef)(null),v=(0,o.useRef)(null),S=(0,o.useRef)(null),g=(0,o.useRef)(null),_=(0,o.useRef)(new l.FM8),C=(0,o.useRef)(null),j=(0,o.useRef)(null),b=(0,o.useRef)(null),w=(0,o.useRef)(!1),[E,A]=(0,o.useState)(21),[N,P]=(0,o.useState)(1),T=(0,o.useCallback)(e=>{if(!w.current)return;let t=p.current.getBoundingClientRect();_.current.x=(e.clientX-t.left)/t.width*2-1,_.current.y=-(2*((e.clientY-t.top)/t.height))+1,g.current.setFromCamera(_.current,x.current);let r=g.current.intersectObjects([C.current,j.current,b.current],!0);if(r.length>0){let e=r[0].object;for(;e.parent&&![C.current,j.current,b.current].includes(e);)e=e.parent;if([C.current,j.current,b.current].includes(e)){let t=e.userData.volumeSection;t&&(updateSelection(t,e),n(t))}}},[n,d]),updateSelection=(e,t)=>{y.current&&updateObjectColors(y.current,s.rS[d].default,s.rS[d].hover),updateObjectColors(t,s.rS[d].selected,16777215),f.current=e,y.current=t},updateObjectColors=(e,t,n)=>{e.traverse(r=>{r instanceof l.Kj0&&(r.name===e.userData.volumeSection&&r.material.color.set(t),r.geometry&&"TextGeometry"===r.geometry.type&&r.material.color.set(n))})};(0,o.useEffect)(()=>{if(!p.current)return;v.current=new l.xsS,v.current.background=new l.Ilk("#313354");let e=p.current.clientWidth/p.current.clientHeight;x.current=new l.iKG(-(200*e),200*e,200,-200,.1,1e3),x.current.position.z=10,S.current=new l.CP7({antialias:!0,alpha:!0}),S.current.setSize(p.current.clientWidth,p.current.clientHeight),S.current.setPixelRatio(window.devicePixelRatio),p.current.appendChild(S.current.domElement),g.current=new l.iMs;let n=new i.L;n.load("".concat(u.$N,"/3d/volume-selector/volume-selector.obj"),e=>{[C,j,b].forEach((t,n)=>{let r=e.clone();t.current=r,r.position.set((n-1)*E,0,0),r.userData.volumeSection=["region","slice","cylinder"][n],applyMaterial(r,n),v.current.add(r)});let n=new c.J;n.load("".concat(u.sb,"/assets/fonts/Titillium_Web_Light_.json"),e=>{["Region","Slice","Cylinder"].forEach((t,n)=>{createText(t,[C,j,b][n].current,t.toLowerCase(),e)})}),w.current=!0,t&&setInitialSelection(t),animate()},e=>console.log(e.loaded/e.total*100+"% loaded"),e=>console.error("An error happened",e));let animate=()=>{requestAnimationFrame(animate),S.current.render(v.current,x.current)},handleResize=()=>{if(p.current&&S.current&&x.current){let e=p.current.clientWidth,t=p.current.clientHeight;S.current.setSize(e,t);let n=e/t;x.current.left=-(200*n),x.current.right=200*n,x.current.top=200,x.current.bottom=-200,x.current.updateProjectionMatrix();let r=window.innerWidth<1400?16:21;A(r),x.current.zoom=window.innerWidth<1200?11:16,x.current.updateProjectionMatrix();let o=window.innerWidth<1200?1:.8;P(o),updateTextSize()}},handleMouseMove=e=>{if(!w.current)return;let t=p.current.getBoundingClientRect();_.current.x=(e.clientX-t.left)/t.width*2-1,_.current.y=-(2*((e.clientY-t.top)/t.height))+1,g.current.setFromCamera(_.current,x.current);let n=g.current.intersectObjects([C.current,j.current,b.current],!0);if(n.length>0){let e=n[0].object;for(;e.parent&&![C.current,j.current,b.current].includes(e);)e=e.parent;h.current!==e&&y.current!==e&&(h.current&&h.current!==y.current&&updateObjectColors(h.current,s.rS[d].default,s.rS[d].hover),updateObjectColors(e,s.rS[d].hover,s.rS[d].hover),h.current=e,p.current.style.cursor="pointer")}else h.current&&h.current!==y.current&&(updateObjectColors(h.current,s.rS[d].default,s.rS[d].hover),h.current=null,p.current.style.cursor="default")};return window.addEventListener("resize",handleResize),p.current.addEventListener("mousemove",handleMouseMove),p.current.addEventListener("click",T),handleResize(),()=>{window.removeEventListener("resize",handleResize),p.current&&(p.current.removeEventListener("mousemove",handleMouseMove),p.current.removeEventListener("click",T),p.current.removeChild(S.current.domElement))}},[d]),(0,o.useEffect)(()=>{w.current&&[C,j,b].forEach((e,t)=>{e.current&&e.current.position.set((t-1)*E,0,0)})},[E]),(0,o.useEffect)(()=>{w.current&&t&&setInitialSelection(t)},[t,d]);let applyMaterial=(e,t)=>{e.traverse(t=>{if(t instanceof l.Kj0){let n;if(t.name===e.userData.volumeSection)n=new l.vBJ({color:s.rS[d].default,transparent:!1,opacity:1,depthWrite:!0}),t.renderOrder=2;else if("skeleton"===t.name){n=new l.vBJ({color:s.rS[d].selectedEdges,transparent:!0,opacity:0,depthWrite:!1});let e=new l.TOt(t.geometry),r=new l.nls({color:s.rS[d].default,transparent:!0,opacity:1,depthWrite:!1}),o=new l.ejS(e,r);o.renderOrder=1,t.add(o)}else t.visible=!1;n&&(t.material=n)}})},createText=(e,t,n,r)=>{let o=new a.M(e,{font:r,size:N,height:.2,curveSegments:32,bevelEnabled:!0,bevelThickness:.02,bevelSize:.02}),i=f.current===n?16777215:s.rS[d].hover,c=new l.vBJ({color:i,transparent:!1,opacity:1}),u=new l.Kj0(o,c);t.traverse(e=>{e instanceof l.Kj0&&e.name===n&&(u.position.set(0,0,0),e.add(u))})},updateTextSize=()=>{["Region","Slice","Cylinder"].forEach((e,t)=>{let n=[C,j,b][t].current;n&&n.traverse(t=>{if(t instanceof l.Kj0&&t.geometry&&"TextGeometry"===t.geometry.type){let r=t.parent;if(r){r.remove(t);let o=new c.J;o.load("".concat(u.sb,"/assets/fonts/Titillium_Web_Light_.json"),t=>{createText(e,n,e.toLowerCase(),t)})}}})})},setInitialSelection=e=>{let t=[C,j,b].find(t=>{var n;return(null===(n=t.current)||void 0===n?void 0:n.userData.volumeSection)===e});(null==t?void 0:t.current)&&updateSelection(e,t.current)};return(0,r.jsxs)("div",{className:m().container,children:[(0,r.jsx)("div",{className:m().volumeSelector,ref:p}),(0,r.jsx)("div",{className:m().volumeList})]})}},61267:function(e,t,n){"use strict";n.d(t,{N4:function(){return c},ST:function(){return u},defaultSelection:function(){return d},hk:function(){return s},jo:function(){return a},lB:function(){return i},nQ:function(){return m},rS:function(){return o},ug:function(){return r},x8:function(){return l}});let r=["SLM","SR","SP","SO"],o={1:{default:4472923,hover:8217967,selected:11962755,selectedEdges:15707799},2:{default:4472923,hover:8084330,selected:11761017,selectedEdges:15372424},3:{default:4472923,hover:7428464,selected:10449284,selectedEdges:13404825},4:{default:4472923,hover:6446455,selected:8420242,selectedEdges:10393774},5:{default:3751262,hover:5856633,selected:7240599,selectedEdges:8624309}},l={red:"#C46785",blue:"#3b4165",green:"#7FD982",purple:"#7F5482",yellow:"#f9f871"},i={experimental_data:"#EFAE97",reconstruction_data:"#EA9088",digital_reconstruction:"#CC8A99",validations:"#9E98AE",predictions:"#8398B5"},c=["all","axon","apical","basal","dendrite","soma"],a=["region","slice","cylinder"],s=["0um","10um","100um"],u=["All","Excitatory","Inhibitory","SLM_PPA","SO_BP","SO_BS","SO_OLM","SO_Tri","SP_AA","SP_BS","SP_CCKBC","SP_Ivy","SP_PC","SP_PVBC","SR_SCA"],d={experimentalData:{layerAnatomy:{layer:"SLM"},neuronMorphology:{layer:"SLM",mtype:"SLM_PPA",instance:"011127HP1"},neuronElectrophysiology:{etype:"bAC",etype_instance:"95810035"}},reconstructionData:{volume:{volume_section:"region"},cellComposition:{volume_section:"region"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"CA1_int_bAC_011127HP1_20190329115610"}},digitalReconstruction:{region:{volume_section:"region"},morphologyLibrary:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",morphology:"011127HP1"},schafferCollateral:{volume_section:"region",prelayer:"SC",postlayer:"All"},connectionAnatomy:{volume_section:"region",prelayer:"All",postlayer:"All"},connectionPhysiology:{volume_section:"region",prelayer:"all",postlayer:"all"},acetylcholineEffectsOnCell:{morphology:"450290",etype:"cNAC",mtype:"SO_BP"},acetylcholineEffectsOnSynapses:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"011127HP1"},NeuronModelLibrary:{mtype:"SO_BP",etype:"cNAC",morphology:"980120A_-_Scale_x1.000_y0.900_z1.000"},synapticPathways:{volume_section:"slice",prelayer:"All",postlayer:"All"},acetylcholine:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"}}},m={all:"#1fcf1f",axon:"#1111ff",apical:"#f442ad",basal:"#ff1111",dendrite:"#ff1111",soma:"#000"}},28354:function(e,t,n){"use strict";var r=n(85893),o=n(67294),l=n(11163);t.Z=(e,t)=>()=>{let n=(0,l.useRouter)();return(0,o.useEffect)(()=>{if(n.isReady&&!n.query[t.key]){let e=t.defaultQuery;n.replace({query:e},void 0,{shallow:!0})}},[n.query]),(0,r.jsx)(e,{})}},78363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return CellCompositionPage}});var r=n(85893),o=n(9008),l=n.n(o),i=n(67294),c=n(11163),a=n(41664),s=n.n(a),u=n(61267),d=n(71376),m=n(82718),p=n(78433),h=n(67264),f=n(50818),y=n(35930),x=n(22633),v=n(28354),S=n(2307),g=n(42978),_=n(76343),C=n(92092),j=n(43483),b=n(33638),w=n(17931);let E={...C.TH,...C.iy},A=(0,j.o)(E),N=[{title:"M-type",dataIndex:"mtype",render:e=>(0,r.jsx)(A,{term:e,description:function(e){let[t,n]=e.split("_");return C.iy[t]&&C.TH[n]?"".concat(C.TH[n]," from ").concat(C.iy[t]," layer"):null}(e)})},{title:"Density, neurons/mm\xb3",dataIndex:"density",render:e=>(0,r.jsx)(_.Z,{value:e})},{title:"Number of cells",dataIndex:"count",render:e=>(0,r.jsx)(_.Z,{value:e})}];var cell_composition_CellCompositionTable=e=>{let{volumeSection:t,theme:n}=e,[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{fetch(w.$N+"/2_reconstruction-data/cell-composition/cell-composition.json").then(e=>e.json()).then(e=>l(e))},[]);let c=(0,i.useMemo)(()=>o&&t?o[t].reduce((e,t)=>e+t.count,0):0,[o,t]);return o&&t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{className:"mb-2",size:"small",pagination:!1,bordered:!0,columns:N,dataSource:o[t],rowKey:e=>{let{mtype:t}=e;return t},summary:()=>(0,r.jsxs)(S.Z.Summary.Row,{children:[(0,r.jsx)(S.Z.Summary.Cell,{index:0,children:(0,r.jsx)("strong",{children:"Total"})}),(0,r.jsx)(S.Z.Summary.Cell,{index:1}),(0,r.jsx)(S.Z.Summary.Cell,{index:2,children:(0,r.jsx)("strong",{children:(0,r.jsx)(_.Z,{value:c})})})]})}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)(b.Z,{theme:n,onClick:()=>(0,g.KO)(o[t],"Cell-Composition-Data-".concat(t,".json")),children:[(0,r.jsx)("span",{className:"collapsible-property small",children:t})," Cell Composition"]})})]}):(0,r.jsx)("div",{children:"Loading..."})};let P={...C.TH,...C.iy,...C.SN},T=(0,j.o)(P),formatValue=e=>null!==e?(0,r.jsx)(_.Z,{value:e,suffix:"%"}):"-",M=[{title:"M-type",dataIndex:"mtype",render:e=>(0,r.jsx)(T,{term:e,description:function(e){let[t,n]=e.split("_");return C.iy[t]&&C.TH[n]?"".concat(C.TH[n]," from ").concat(C.iy[t]," layer"):null}(e)})},{title:(0,r.jsx)(T,{term:"cNAC"}),dataIndex:"cNAC",render:e=>formatValue(e)},{title:(0,r.jsx)(T,{term:"cAC"}),dataIndex:"cAC",render:e=>formatValue(e)},{title:(0,r.jsx)(T,{term:"bAC"}),dataIndex:"bAC",render:e=>formatValue(e)}];var cell_composition_MECompositionTable=e=>{let{theme:t}=e,[n,o]=(0,i.useState)(null);return((0,i.useEffect)(()=>{fetch(w.$N+"/2_reconstruction-data/cell-composition/me-composition.json").then(e=>e.json()).then(e=>o(e))},[n]),n)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{className:"mb-2",size:"small",bordered:!0,tableLayout:"fixed",pagination:!1,columns:M,dataSource:n,rowKey:e=>{let{mtype:t}=e;return t}}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(b.Z,{theme:t,onClick:()=>(0,g.KO)(n,"ME-Composition-Table-Data.json"),children:"ME Composition Table Data"})})]}):(0,r.jsx)("div",{children:"Loading..."})},L=(0,v.Z)(()=>{let e=(0,c.useRouter)(),{volume_section:t}=e.query,setVolumeSectionQuery=t=>{e.push({query:{volume_section:t}},void 0,{shallow:!0})},n=[{title:"Volume section",key:"volume_section",values:u.jo,setFn:setVolumeSectionQuery}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{theme:2,hasData:!0,children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row w-full lg:items-center mt-40 lg:mt-0",children:[(0,r.jsx)("div",{className:"w-full lg:w-1/2 md:w-full md:flex-none mb-8 md:mb-8 lg:pr-0",children:(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(p.Z,{title:"Cell composition",subtitle:"Reconstruction Data",theme:2}),(0,r.jsx)("div",{role:"information",children:(0,r.jsx)(h.Z,{children:(0,r.jsxs)("p",{children:["We combined information on available ",(0,r.jsx)(s(),{className:"link theme-".concat(2),href:"/experimental-data/neuronal-morphology/",children:"morphological reconstructions"}),", ",(0,r.jsx)(s(),{className:"link theme-".concat(2),href:"/experimental-data/neuronal-electrophysiology/",children:"electrophysiological recordings"}),", ",(0,r.jsx)(s(),{className:"link theme-".concat(2),href:"/experimental-data/cell-density",children:"cell density"}),", ",(0,r.jsx)(s(),{className:"link theme-".concat(2),href:"/reconstruction-data/volume/",children:"volume"}),", and the estimation from ",(0,r.jsx)(s(),{className:"link theme-".concat(2),href:"https://pubmed.ncbi.nlm.nih.gov/23674373/",children:"Bezaire and Soltesz (2013)"})," to predict the number of neuron types."]})})})]})}),(0,r.jsx)("div",{className:"flex flex-col-reverse md:flex-row-reverse gap-8 mb-12 md:mb-0 mx-8 md:mx-0 lg:w-1/2 md:w-full flex-grow md:flex-none justify-center",children:(0,r.jsxs)("div",{className:"selector__column selector__column--lg theme-".concat(2," w-full"),children:[(0,r.jsx)("div",{className:"selector__head theme-".concat(2),children:"Choose a layer"}),(0,r.jsx)("div",{className:"selector__body",children:(0,r.jsx)(x.Z,{value:t,onSelect:setVolumeSectionQuery,theme:2})})]})})]})}),(0,r.jsxs)(f.Z,{theme:2,navItems:[{id:"cellCompositionSection",label:"Cell composition"},{id:"MECompositionSection",label:"ME-composition"}],quickSelectorEntries:n,children:[(0,r.jsxs)(y.Z,{id:"cellCompositionSection",title:"Cell composition",properties:[t],children:[(0,r.jsx)("p",{className:"mb-3",children:"Here we provide the density and number of cells for each morphological type (m-type)."}),(0,r.jsx)(cell_composition_CellCompositionTable,{theme:2,volumeSection:t})]}),(0,r.jsxs)(y.Z,{className:"mt-4",id:"MECompositionSection",title:"ME-composition",children:[(0,r.jsx)("p",{className:"mb-3",children:"Each morphological type (m-type) can show one or more electrical types (e-types) giving rise to different morpho-electrical types (me-types)."}),(0,r.jsx)(cell_composition_MECompositionTable,{theme:2})]})]})]})},{key:"volume_section",defaultQuery:u.defaultSelection.reconstructionData.volume});function CellCompositionPage(){let e={title:"Cell Composition - Reconstruction Data | The Hippocampus Hub",description:"Explore the density and number of cells for each morphological type in the CA1 region of the hippocampus. Analyze the composition of morpho-electrical types (me-types) based on electrophysiological recordings and reconstructions.",keywords:["Cell Composition","Hippocampus","CA1 Neurons","Morpho-Electrical Types","Cell Density","Reconstruction Data","Neuroscience","Blue Brain Project"],author:"Blue Brain Project",creator:"EPFL Blue Brain Project",publisher:"The Hippocampus Hub"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:e.title}),(0,r.jsx)("meta",{name:"description",content:e.description}),(0,r.jsx)("meta",{name:"keywords",content:e.keywords.join(", ")}),(0,r.jsx)("meta",{name:"author",content:e.author}),(0,r.jsx)("meta",{name:"creator",content:e.creator}),(0,r.jsx)("meta",{name:"publisher",content:e.publisher})]}),(0,r.jsx)(L,{})]})}},92092:function(e,t,n){"use strict";n.d(t,{SN:function(){return i},TH:function(){return o},iy:function(){return r},vz:function(){return l},xL:function(){return c}}),n(85893),n(67294);let r={SLM:"Stratum Lacunosum-Moleculare",SR:"Stratum Radiatum",SP:"Stratum Pyramidal",SO:"Stratum Oriens"},o={PPA:"Perforant Pathway Associated Cell",SCA:"Schaffer Collateral Associated Cell",AA:"Axon Axonic Cell",BS:"Bistratified Cell",PVBC:"PV+ Basket Cell",CCKBC:"CCK+ Basket Cell",PC:"Pyramidal Cell",BP:"Back-Projecting Cell",OLM:"Oriens Lacunosum-Moleculare Cell",Tri:"Trilaminar Cell",Ivy:"Ivy Cell"},l={E1:"Excitatory facilitating",E2:"Excitatory depressing",I1:"Inhibitory facilitating",I2:"Inhibitory depressing",I3:"Inhibitory pseudo linear"},i={cADpyr:"continuous Accommodating (Adapting) for pyramidal cells",cAC:"continuous Accommodating",bAC:"burst Accommodating",cNAC:"continuous Non-accommodating",bNAC:"burst Non-accommodating",dNAC:"delayed Non-accommodating",cSTUT:"continuous Stuttering",bSTUT:"burst Stuttering",dSTUT:"delayed Stuttering",cIR:"continuous Irregular",bIR:"burst Irregular"},c={gsyn:"The peak conductance (in nS) for a single synaptic contact",U:"Utilization of synaptic efficacy - analogous to the transmitter release probability at a single synaptic contact",D:"Time constant (in ms) for recovery from depression",F:"Time constant (in ms) for recovery from facilitation"}},51763:function(e){e.exports={container:"styles_container__31D34","container--center":"styles_container--center__Yuntq",flexWrapper:"styles_flexWrapper___gDLe"}},33511:function(e){e.exports={container:"styles_container__pHcWR"}},80204:function(e){e.exports={container:"styles_container__NKkJz",volumeSelector:"styles_volumeSelector__dN4Dl",volumeList:"styles_volumeList__5Src0",volumeSection:"styles_volumeSection__yJuJz",active:"styles_active__RrlYY"}}},function(e){e.O(0,[1228,3737,7056,4055,9006,685,5060,2307,9242,8287,9774,2888,179],function(){return e(e.s=40815)}),_N_E=e.O()}]);