(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{10522:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/digital-reconstructions/acetylcholine-effects-on-synapses",function(){return a(45750)}])},58856:function(e,t,a){"use strict";var l=a(85893),n=a(67294),s=a(23148),i=a(26495),r=a(61267);s.kL.register(s.f$,s.ZL,s.Dx,s.u,s.De),t.Z=e=>{var t,a;let{plotData:s,xAxis:c="Value",yAxis:o="Frequency",xAxisTickStep:d=1,MeanStd:u}=e,[m,p]=(0,n.useState)(0);(0,n.useEffect)(()=>{{p(window.innerWidth);let handleResize=()=>{p(window.innerWidth)};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}}},[]);let formatScientificNotation=e=>{if(1e3>Math.abs(e))return e.toString();if(0===e)return"0";let t=Math.floor(Math.log10(Math.abs(e))),a=e/Math.pow(10,t),l=["⁰","\xb9","\xb2","\xb3","⁴","⁵","⁶","⁷","⁸","⁹"],n=Math.abs(t).toString().split("").map(e=>l[parseInt(e)]).join("");return"".concat(Math.round(100*a)/100,"*10").concat(t<0?"⁻":"").concat(n)},{dataPoints:h,units:y,name:f,description:x}=(0,n.useMemo)(()=>{if(!s)return{dataPoints:[],units:null,name:"",description:""};let createHistogram=e=>{let t=Math.min(20,e.length),a=Math.min(...e),l=(Math.max(...e)-a)/t,n=Array.from({length:t+1},(e,t)=>a+t*l),s=Array(t).fill(0);e.forEach(e=>{let n=Math.min(Math.floor((e-a)/l),t-1);s[n]++});let i=s.map((e,t)=>({x:n[t],y:e}));return{dataPoints:i}};if(Array.isArray(s)){let{dataPoints:e}=createHistogram(s);return{dataPoints:e,units:null,name:"",description:""}}if("object"!=typeof s||null===s)return console.error("Unexpected data format",s),{dataPoints:[],units:null,name:"",description:""};if("freq"in s&&"bins"in s){let e=s.bins.map((e,t)=>({x:e,y:s.freq[t]}));return{dataPoints:e,units:s.units,name:s.name||"",description:s.description||""}}if("bins"in s&&"counts"in s){let e=s.bins.map((e,t)=>({x:e,y:s.counts[t]}));return{dataPoints:e,units:null,name:"",description:""}}if("values"in s&&Array.isArray(s.values)){let e=s.values.flat(),{dataPoints:t}=createHistogram(e);return{dataPoints:t,units:null,name:"",description:""}}{let e=Object.entries(s).map(e=>{let[t,a]=e;return{x:parseFloat(t),y:a}});return{dataPoints:e,units:null,name:"",description:""}}},[s]),b=(0,n.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:e=>{let t=e[0].dataIndex,a=e[0].parsed.x,l=h[t+1]?h[t+1].x:a;return"".concat(a," - ").concat(l," ").concat(y||"")}}}},scales:{x:{type:"linear",title:{display:!0,text:c},ticks:{stepSize:d,maxRotation:0,minRotation:0,callback:function(e){return e.toString()}}},y:{title:{display:!0,text:o},ticks:{callback:function(e){return formatScientificNotation(Number(e))}}}}}),[d,c,o,h,y]);if(0===h.length)return(0,l.jsx)("div",{children:"No data available for the plot."});let _={datasets:[{label:"Frequency",data:h,backgroundColor:r.x8.blue,borderWidth:0,barPercentage:.9,categoryPercentage:.9}]};return(0,l.jsxs)("div",{children:[u&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("p",{children:["Mean: ",null==u?void 0:null===(t=u.mean)||void 0===t?void 0:t.toFixed(4)]}),(0,l.jsxs)("p",{children:["Standard Deviation: ",null==u?void 0:null===(a=u.std)||void 0===a?void 0:a.toFixed(4)]})]}),f&&(0,l.jsx)("h2",{children:f}),x&&(0,l.jsx)("p",{children:x}),(0,l.jsx)("div",{style:{width:"100%",height:"400px"},children:(0,l.jsx)(i.$Q,{data:_,options:b})})]})}},13210:function(e,t,a){"use strict";var l=a(85893);a(67294),t.Z=e=>{let{title:t,list:a,value:n,onSelect:s=()=>{},color:i,theme:r=1,className:c="",block:o=!1,grow:d}=e,handleSelectedElement=e=>s(e);return(0,l.jsxs)("div",{className:"".concat("list__","basis  ").concat(d&&"flex-1 !flex flex-col"," set-accent-color--").concat(i," selected theme-").concat(r," ").concat(c," ").concat(o?"block":""),role:"radiogroup",children:[t&&(0,l.jsx)("p",{className:"theme-".concat(r),children:t}),(0,l.jsx)("div",{className:"elements ".concat(d&&"flex-grow"),children:a.map(e=>(0,l.jsx)("div",{role:"radio","aria-checked":n===e,tabIndex:0,className:"".concat("list-element__","basis theme-").concat(r," ").concat(n===e?"selected ":""),onClick:()=>handleSelectedElement(e),title:e,children:e},e))})]})}},82718:function(e,t,a){"use strict";var l=a(85893);a(67294);var n=a(93967),s=a.n(n),i=a(51763),r=a.n(i);t.Z=e=>{let{centered:t,children:a}=e;return(0,l.jsx)("div",{className:r().flexWrapper,children:(0,l.jsx)("div",{className:s()(r().container,t?r()["container--centered"]:""),children:a})})}},61267:function(e,t,a){"use strict";a.d(t,{N4:function(){return r},ST:function(){return d},defaultSelection:function(){return u},hk:function(){return o},jo:function(){return c},lB:function(){return i},nQ:function(){return m},rS:function(){return n},ug:function(){return l},x8:function(){return s}});let l=["SLM","SR","SP","SO"],n={1:{default:4472923,hover:8217967,selected:11962755,selectedEdges:15707799},2:{default:4472923,hover:8084330,selected:11761017,selectedEdges:15372424},3:{default:4472923,hover:7428464,selected:10449284,selectedEdges:13404825},4:{default:4472923,hover:6446455,selected:8420242,selectedEdges:10393774},5:{default:3751262,hover:5856633,selected:7240599,selectedEdges:8624309}},s={red:"#C46785",blue:"#3b4165",green:"#7FD982",purple:"#7F5482",yellow:"#f9f871"},i={experimental_data:"#EFAE97",reconstruction_data:"#EA9088",digital_reconstruction:"#CC8A99",validations:"#9E98AE",predictions:"#8398B5"},r=["all","axon","apical","basal","dendrite","soma"],c=["region","slice","cylinder"],o=["0um","10um","100um"],d=["All","Excitatory","Inhibitory","SLM_PPA","SO_BP","SO_BS","SO_OLM","SO_Tri","SP_AA","SP_BS","SP_CCKBC","SP_Ivy","SP_PC","SP_PVBC","SR_SCA"],u={experimentalData:{layerAnatomy:{layer:"SLM"},neuronMorphology:{layer:"SLM",mtype:"SLM_PPA",instance:"011127HP1"},neuronElectrophysiology:{etype:"bAC",etype_instance:"95810035"}},reconstructionData:{volume:{volume_section:"region"},cellComposition:{volume_section:"region"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"CA1_int_bAC_011127HP1_20190329115610"}},digitalReconstruction:{region:{volume_section:"region"},morphologyLibrary:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",morphology:"011127HP1"},schafferCollateral:{volume_section:"region",prelayer:"SC",postlayer:"All"},connectionAnatomy:{volume_section:"region",prelayer:"All",postlayer:"All"},connectionPhysiology:{volume_section:"region",prelayer:"all",postlayer:"all"},acetylcholineEffectsOnCell:{morphology:"450290",etype:"cNAC",mtype:"SO_BP"},acetylcholineEffectsOnSynapses:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"011127HP1"},NeuronModelLibrary:{mtype:"SO_BP",etype:"cNAC",morphology:"980120A_-_Scale_x1.000_y0.900_z1.000"},synapticPathways:{volume_section:"slice",prelayer:"All",postlayer:"All"},acetylcholine:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"}}},m={all:"#1fcf1f",axon:"#1111ff",apical:"#f442ad",basal:"#ff1111",dendrite:"#ff1111",soma:"#000"}},45750:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AcetylcholinePage}});var l=a(85893),n=a(9008),s=a.n(n),i=a(67294),r=a(11163),c=a(41664),o=a.n(c),d=a(71376),u=a(82718),m=a(78433),p=a(67264),h=a(50818),y=a(35930),f=a(58856),acetylcholine_CustomPlot=e=>{let{plotData:t}=e,a=(0,i.useMemo)(()=>{if(!t||!t.value)return null;if(Array.isArray(t.value))return t.value;if("u_syn-distribution"===t.id){let e=t.value,a=Math.min(...e),l=(Math.max(...e)-a)/20,n=Array(20).fill(0);return e.forEach(e=>{let t=Math.min(Math.floor((e-a)/l),19);n[t]++}),{bins:Array.from({length:20},(e,t)=>a+(t+.5)*l),counts:n}}return null},[t]);return a?(0,l.jsx)(f.Z,{plotData:a,xAxis:t.units||"Value",yAxis:"Frequency"}):(0,l.jsx)("div",{children:"No data available for this plot."})},x=a(76069),b=a(13210),_=a(33638),v=a(61267),g=a(17931),j=a(42978),AcetylcholineEffectsOnSynapses=()=>{let e=(0,r.useRouter)(),{ach_concentration:t,prelayer:a,postlayer:n}=e.query,[s,c]=(0,i.useState)({ach_concentration:t,prelayer:a,postlayer:n}),[f,S]=(0,i.useState)(null),[P,N]=(0,i.useState)(null),[A,w]=(0,i.useState)({PSPDistribution:!1,CVDistribution:!1,USYNDistribution:!1}),E=v.ST.filter(e=>"All"!==e);(0,i.useEffect)(()=>{if(e.isReady){if(t||a||n)c({ach_concentration:t,prelayer:a,postlayer:n});else{let{ach_concentration:t,prelayer:a,postlayer:l}=v.defaultSelection.digitalReconstruction.acetylcholineEffectsOnSynapses;c({ach_concentration:t,prelayer:a,postlayer:l}),e.replace({query:{ach_concentration:t,prelayer:a,postlayer:l}},void 0,{shallow:!0})}}},[e.isReady,t,a,n]),(0,i.useEffect)(()=>{t&&a&&n&&(fetchFactsheetData(),fetchTraceData())},[t,a,n]);let fetchFactsheetData=async()=>{try{let e=await fetch("".concat(g.$N,"/3_digital-reconstruction/acetylcholine-effect-on-synapses/").concat(t,"/").concat(a,"-").concat(n,"/Ach_effect_on_synapse.json")),l=await e.json();l&&Array.isArray(l.values)&&(S(l.values),w({PSPDistribution:l.values.some(e=>"psp-amp-distribution"===e.id),CVDistribution:l.values.some(e=>"cv-distribution"===e.id),USYNDistribution:l.values.some(e=>"u_syn-distribution"===e.id)}))}catch(e){console.error("Error fetching factsheet:",e)}},fetchTraceData=async()=>{try{let e=await fetch("".concat(g.$N,"/3_digital-reconstruction/acetylcholine-effect-on-synapses/").concat(t,"/").concat(a,"-").concat(n,"/trace.json")),l=await e.json();console.log("Trace data:",l),N(l)}catch(e){console.error("Error fetching trace data:",e)}},setParams=t=>{let a={...s,...t};c(a),e.push({query:a},void 0,{shallow:!0})},D=[{title:"Acetylcholine concentration",key:"ach_concentration",values:v.hk,setFn:e=>setParams({ach_concentration:e})},{title:"Pre-synaptic cell group",key:"prelayer",values:E,setFn:e=>setParams({prelayer:e})},{title:"Post-synaptic cell group",key:"postlayer",values:E,setFn:e=>setParams({postlayer:e})}],getPlotDataById=e=>null==f?void 0:f.find(t=>t.id===e);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Z,{theme:3,hasData:!!a&&!!n,children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row w-full lg:items-center mt-40 lg:mt-0",children:[(0,l.jsx)("div",{className:"w-full lg:w-1/2 md:w-full md:flex-none mb-8 md:mb-8 lg:pr-0",children:(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(m.Z,{title:"Acetylcholine - Effects on Synapses",subtitle:"Digital Reconstructions",theme:3}),(0,l.jsx)(p.Z,{children:(0,l.jsxs)("p",{children:["We applied the ",(0,l.jsx)(o(),{className:"link theme-".concat(3),href:"/reconstruction-data/acetylcholine-effects-on-synapses/",children:"dose-effect curves"})," to predict the effect of acetylcholine on synapse short-term plasticity."]})})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-8 mb-12 md:mb-0 mx-8 md:mx-0 lg:w-1/2 md:w-full flex-grow md:flex-none justify-center",style:{maxWidth:"800px"},children:[(0,l.jsxs)("div",{className:"selector__column selector__column--lg mt-3 theme-".concat(3),children:[(0,l.jsx)("div",{className:"selector__head theme-".concat(3),children:"1. Select a concentration"}),(0,l.jsx)("div",{className:"selector__body",children:(0,l.jsx)(b.Z,{block:!0,list:v.hk,value:s.ach_concentration,title:"concentrations",onSelect:e=>setParams({ach_concentration:e}),theme:3})})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow p-0 m-0",children:[(0,l.jsxs)("div",{className:"selector__column theme-".concat(3," flex-1"),children:[(0,l.jsx)("div",{className:"selector__head theme-".concat(3),children:"2. Select a pre-synaptic cell group"}),(0,l.jsx)("div",{className:"selector__body",children:(0,l.jsx)(b.Z,{block:!0,list:E,value:s.prelayer,title:"m-type",onSelect:e=>setParams({prelayer:e}),theme:3})})]}),(0,l.jsxs)("div",{className:"selector__column theme-".concat(3," flex-1"),children:[(0,l.jsx)("div",{className:"selector__head theme-".concat(3),children:"3. Select a post-synaptic cell group"}),(0,l.jsx)("div",{className:"selector__body",children:(0,l.jsx)(b.Z,{block:!0,list:E,value:s.postlayer,title:"m-type",onSelect:e=>setParams({postlayer:e}),theme:3})})]})]})]})]})}),(0,l.jsxs)(h.Z,{theme:3,navItems:[{label:"Distribution",isTitle:!0},{id:"PSPDistributionSection",label:"PSP amp distribution"},{id:"CVDistributionSection",label:"CV distribution"},{id:"USYNDistributionSection",label:"u_syn distribution"},{label:"Trace",isTitle:!0},{id:"traceSection",label:"Mean & Indivudial trace"}],quickSelectorEntries:D,children:[A.PSPDistribution&&(0,l.jsxs)(y.Z,{title:"PSP amp distribution",id:"PSPDistributionSection",className:"mt-4",children:[(0,l.jsx)("div",{className:"graph",children:(0,l.jsx)(acetylcholine_CustomPlot,{plotData:getPlotDataById("psp-amp-distribution")})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(_.Z,{theme:3,onClick:()=>(0,j.KO)(getPlotDataById("psp-amp-distribution"),"psp-amp-distribution-".concat(t,"-").concat(a,"-").concat(n,".json")),children:[(0,l.jsx)("span",{style:{textTransform:"capitalize"},className:"collapsible-property small",children:t}),"PSP amp distribution",(0,l.jsx)("span",{className:"!mr-0 collapsible-property small",children:a})," - ",(0,l.jsx)("span",{className:"!ml-0 collapsible-property small",children:n})]})})]}),A.CVDistribution&&(0,l.jsxs)(y.Z,{title:"CV distribution",id:"CVDistributionSection",className:"mt-4",children:[(0,l.jsx)("div",{className:"graph",children:(0,l.jsx)(acetylcholine_CustomPlot,{plotData:getPlotDataById("cv-distribution")})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(_.Z,{theme:3,onClick:()=>(0,j.KO)(getPlotDataById("cv-distribution"),"cv-distribution-".concat(t,"-").concat(a,"-").concat(n,".json")),children:[(0,l.jsx)("span",{style:{textTransform:"capitalize"},className:"collapsible-property small",children:t}),"CV distribution",(0,l.jsx)("span",{className:"!mr-0 collapsible-property small",children:a})," - ",(0,l.jsx)("span",{className:"!ml-0 collapsible-property small",children:n})]})})]}),A.USYNDistribution&&(0,l.jsxs)(y.Z,{title:"u_syn distribution",id:"USYNDistributionSection",className:"mt-4",children:[(0,l.jsx)("div",{className:"graph",children:(0,l.jsx)(acetylcholine_CustomPlot,{plotData:getPlotDataById("u_syn-distribution")})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(_.Z,{theme:3,onClick:()=>(0,j.KO)(getPlotDataById("u_syn-distribution"),"u_syn-distribution-".concat(t,"-").concat(a,"-").concat(n,".json")),children:[(0,l.jsx)("span",{style:{textTransform:"capitalize"},className:"collapsible-property small",children:t}),"u_syn distribution",(0,l.jsx)("span",{className:"!mr-0 collapsible-property small",children:a})," - ",(0,l.jsx)("span",{className:"!ml-0 collapsible-property small",children:n})]})})]}),(0,l.jsx)(y.Z,{title:"Trace",id:"traceSection",className:"mt-4",children:P&&P.individual_trace&&P.mean_trace?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"graph",children:(0,l.jsx)(x.Z,{plotData:{individual_traces:P.individual_trace,mean_trace:P.mean_trace}})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(_.Z,{theme:3,onClick:()=>(0,j.KO)(P,"trace-".concat(t,"-").concat(a,"-").concat(n,".json")),children:[(0,l.jsx)("span",{style:{textTransform:"capitalize"},className:"collapsible-property small",children:t}),(0,l.jsx)("span",{className:"!mr-0 collapsible-property small",children:a})," -"," ",(0,l.jsx)("span",{className:"!ml-0 collapsible-property small",children:n}),"trace"]})})]}):(0,l.jsx)("p",{children:"Trace data is not available."})})]})]})};function AcetylcholinePage(){let e={title:"Acetylcholine - Effects on Synapses | Digital Reconstructions | The Hippocampus Hub",description:"Explore the effects of acetylcholine (ACh) on synaptic plasticity in hippocampal neurons. This page presents dose-effect relationships and key parameters that influence short-term plasticity in synapses.",keywords:["Acetylcholine","Synapses","Short-Term Plasticity","Dose-Effect","Hippocampus","Digital Reconstructions","Neuroscience","Blue Brain Project"],author:"Blue Brain Project",creator:"EPFL Blue Brain Project",publisher:"The Hippocampus Hub"};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:e.title}),(0,l.jsx)("meta",{name:"description",content:e.description}),(0,l.jsx)("meta",{name:"keywords",content:e.keywords.join(", ")}),(0,l.jsx)("meta",{name:"author",content:e.author}),(0,l.jsx)("meta",{name:"creator",content:e.creator}),(0,l.jsx)("meta",{name:"publisher",content:e.publisher})]}),(0,l.jsx)(AcetylcholineEffectsOnSynapses,{})]})}},76069:function(e,t,a){"use strict";var l=a(85893),n=a(67294),s=a(5152),i=a.n(s),r=a(60192),c=a(61267);let o=i()(()=>Promise.all([a.e(2960),a.e(8660)]).then(a.bind(a,58660)).then(e=>e.default),{loadableGenerated:{webpack:()=>[58660]},ssr:!1});t.Z=e=>{let{plotData:t}=e,[a,s]=(0,n.useState)([]),[i,d]=(0,n.useState)({}),[u,m]=(0,n.useState)(!0),[p,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(console.log("TraceGraph received plotData:",t),!t||!t.individual_traces||!t.mean_trace){console.log("No plot data available"),m(!1),h(!0);return}try{m(!0),h(!1);let e=Array.from({length:t.mean_trace.length},(e,a)=>a*(5e3/(t.mean_trace.length-1))),a=t.individual_traces.map((t,a)=>({x:e,y:t,type:"scatter",mode:"lines",name:"Individual Trace ".concat(a+1),line:{color:"#9EA0B2",width:1},showlegend:!1,hovertemplate:"Time: %{x}<br>Value: %{y:.2f} mV<extra></extra>"})),l={x:e,y:t.mean_trace,type:"scatter",mode:"lines",name:"Mean Trace",line:{color:c.x8.red,width:3},hovertemplate:"Time: %{x}<br>Value: %{y:.2f} mV<extra></extra>"};s([...a,l]),d({title:"",xaxis:{title:"Time",showticklabels:!0,range:[0,5e3],tickmode:"array",tickvals:[0,1e3,2e3,3e3,4e3,5e3],ticktext:["0ms","1s","2s","3s","4s","5s"],hoverformat:".2f"},yaxis:{title:"Value (mV)",showticklabels:!0,hoverformat:".2f"},autosize:!0,margin:{l:60,r:50,b:50,t:50,pad:4},hovermode:"closest",showlegend:!0,legend:{x:1,xanchor:"right",y:1},plot_bgcolor:"#EFF1F8",paper_bgcolor:"#EFF1F8"}),m(!1)}catch(e){console.error("Error processing plot data:",e),m(!1),h(!0)}},[t]),(0,l.jsx)("div",{style:{width:"100%",height:"500px",position:"relative"},children:u?(0,l.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,l.jsx)(r.Z,{className:"w-8 h-8 animate-spin"})}):p||!a.length?(0,l.jsx)("p",{className:"text-center text-gray-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:"No data available."}):(0,l.jsx)(o,{data:a,layout:i,useResizeHandler:!0,style:{width:"100%",height:"100%"},config:{responsive:!0}})})}},51763:function(e){e.exports={container:"styles_container__31D34","container--center":"styles_container--center__Yuntq",flexWrapper:"styles_flexWrapper___gDLe"}}},function(e){e.O(0,[1228,2196,7056,9676,4969,8287,9774,2888,179],function(){return e(e.s=10522)}),_N_E=e.O()}]);