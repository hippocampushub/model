!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="65f3e87c-68e9-4336-a487-756c48fb36e0",e._sentryDebugIdIdentifier="sentry-dbid-65f3e87c-68e9-4336-a487-756c48fb36e0")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9810],{7839:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/digital-reconstructions/neurons",function(){return o(49798)}])},97145:function(e,t,o){"use strict";var l=o(85893),r=o(67294),n=o(99477),a=o(97157),y=o(71711),s=o(61267),c=o(17931);t.Z=e=>{let{value:t,onSelect:o,theme:i=1}=e,p=(0,r.useRef)(null),[m,u]=(0,r.useState)(null),[h,d]=(0,r.useState)([]),[S,g]=(0,r.useState)([]),[P,C]=(0,r.useState)([]),[_,f]=(0,r.useState)(!1),[A,b]=(0,r.useState)(null),[v,x]=(0,r.useState)(null),[j,w]=(0,r.useState)(null),N={SLM:.224*1.6,SR:.684656,SP:.144,SO:.258*1.6};return(0,r.useEffect)(()=>{if(!p.current)return;let e=new n.xsS;e.background=new n.Ilk(3224404);let t=p.current.clientWidth/p.current.clientHeight,o=new n.iKG(-(5*t/2),5*t/2,2.5,-2.5,.1,1e3);o.position.set(0,-10,90),o.lookAt(0,0,1),o.zoom=2.2,o.updateProjectionMatrix();let l=new n.CP7({antialias:!0});l.setPixelRatio(window.devicePixelRatio),l.setSize(p.current.clientWidth,p.current.clientHeight),p.current.appendChild(l.domElement),b(e),x(o),w(l),f(!0);let handleResize=()=>{if(p.current&&l&&o){let e=p.current.clientWidth,t=p.current.clientHeight;l.setSize(e,t);let r=e/t;o.left=-5*r/2,o.right=5*r/2,o.top=2.5,o.bottom=-2.5,o.updateProjectionMatrix()}};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),p.current&&p.current.removeChild(l.domElement)}},[]),(0,r.useEffect)(()=>{if(!_||!A||!v||!j)return;let e=new n.vBJ({color:16777215}),t=[],o=[],l=[],r=s.ug.length,i=0,p=1.5,m=s.ug.reduce((e,t)=>e+(N[t]||1)+0,-0);i=m/2;let u=new a.J;u.load("".concat(c.sb,"/assets/fonts/Titillium_Web_Light_.json"),a=>{for(let c=0;c<r;c++){let r=N[s.ug[c]]||1,m=n.M8C.degToRad(10),u=p-2*r*Math.tan(m),h=new n.YT8([new n.Pa4(-p/2,r/2,0),new n.Pa4(0,r/2+.02,0),new n.Pa4(p/2,r/2,0)]),d=new n.YT8([new n.Pa4(-u/2,-r/2,0),new n.Pa4(0,-r/2+.02,0),new n.Pa4(u/2,-r/2,0)]),S=h.getPoints(20),g=d.getPoints(20),P=new n.bnF;P.moveTo(S[0].x,S[0].y),S.forEach(e=>P.lineTo(e.x,e.y)),g.reverse().forEach(e=>P.lineTo(e.x,e.y)),P.lineTo(S[0].x,S[0].y);let C=new n.O7d(P,{depth:1,bevelEnabled:!1}),_=new n.Kj0(C,e.clone());_.userData.layer=s.ug[c],_.userData.index=c,_.position.set(0,i-r/2,.05),A.add(_),t.push(_);let f=new n.TOt(C),b=new n.nls({color:16777215,linewidth:1,linecap:"round",linejoin:"round"}),v=new n.ejS(f,b);v.position.set(0,i-r/2,.05),A.add(v),o.push(v);let x=new y.M(s.ug[c],{font:a,size:.06,height:.001,curveSegments:24,bevelEnabled:!0,bevelThickness:.005,bevelSize:.002});x.computeBoundingBox();let j=x.boundingBox.max.x-x.boundingBox.min.x,w=new n.vBJ({color:16777215}),M=new n.Kj0(x,w);M.position.set(-j/2,i-r+.06,1.05),A.add(M),l.push(M),i-=r+0,p=u}d(t),g(o),C(l)})},[_,A,v,j]),(0,r.useEffect)(()=>{if(!_||!A||!v||!j||0===h.length)return;let e=new n.iMs,t=new n.FM8(-10,-10),l=null,updateMousePosition=e=>{let o=j.domElement.getBoundingClientRect();t.x=(e.clientX-o.left)/o.width*2-1,t.y=-(2*((e.clientY-o.top)/o.height))+1},onMouseMove=e=>{updateMousePosition(e)},onClick=l=>{updateMousePosition(l),e.setFromCamera(t,v);let r=e.intersectObjects(h);if(r.length>0){let e=r[0].object,t=e.userData.layer;o&&t&&(o(t),u(null))}},onHover=()=>{e.setFromCamera(t,v);let o=e.intersectObjects(h);if(o.length>0){document.body.style.cursor="pointer";let e=o[0].object,t=e.userData.index;l!==e&&(u(t),l=e)}else document.body.style.cursor="default",l&&(u(null),l=null)};window.addEventListener("mousemove",onMouseMove),window.addEventListener("click",onClick);let animate=()=>{requestAnimationFrame(animate),onHover(),j.render(A,v)};return animate(),e.setFromCamera(t,v),onHover(),()=>{window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("click",onClick),p.current&&p.current.removeChild(j.domElement)}},[_,A,v,j,h]),(0,r.useEffect)(()=>{_&&0!==h.length&&h.forEach((e,o)=>{let l=e.material,r=S[o].material,n=P[o].material,a=s.rS[i];o===m&&t!==s.ug[o]?(l.color.set(a.hover),r.color.set(a.selected),n.color.set(a.selected)):t===s.ug[o]?(l.color.set(a.selected),r.color.set(a.selectedEdges),n.color.set(16777215)):(l.color.set(a.default),r.color.set(a.selected),n.color.set(a.selected)),l.needsUpdate=!0,r.needsUpdate=!0,n.needsUpdate=!0})},[m,t,i,_,h,S,P]),(0,l.jsx)("div",{className:"flex align-middle justify-center",style:{width:"100%",minHeight:"400px"},children:(0,l.jsx)("div",{ref:p,style:{width:"calc(100% - 2px)",minHeight:"400px"}})})}},49798:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return DigRecNeuronsPage}});var l=o(85893),r=o(9008),n=o.n(r),a=o(67294),y=o(41664),s=o.n(y),c=o(11163),i=o(78433),p=o(67264),m=o(71376),u=o(50818),h=o(13210),d=o(35930),S=o(61267),g=o(28354),P=o(17931),C=o(42978),_=o(33638),f=o(91968),A=o(22944),b=o(8404),v=o(97145),x=o(21906),j=o(8940),w=o(32071);let getUniqueValues=(e,t,o,l,r,n,a)=>Array.from(new Set(A.filter(e=>(!t||!o||e[t]===o)&&(!l||!r||e[l]===r)&&(!n||!a||e[n]===a)).map(t=>t[e]))).sort(),getFilteredMorphologies=(e,t,o)=>A.filter(l=>(!e||l.mtype===e)&&(!t||l.etype===t)&&(!o||l.layer===o)).map(e=>e.morphology);var N=(0,g.Z)(()=>{var e;let t=(0,c.useRouter)(),{query:o}=t,[r,n]=(0,a.useState)(""),[y,S]=(0,a.useState)(""),[g,N]=(0,a.useState)(""),[M,B]=(0,a.useState)(null),[O,E]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[T,F]=(0,a.useState)(null),[Z,I]=(0,a.useState)(null===(e=A[0])||void 0===e?void 0:e.layer),L=(0,a.useMemo)(()=>getUniqueValues("mtype","layer",null==Z?void 0:Z.toString()),[Z]),V=(0,a.useMemo)(()=>getUniqueValues("etype","mtype",r,"layer",null==Z?void 0:Z.toString()),[r,Z]),D=(0,a.useMemo)(()=>getFilteredMorphologies(r,y,Z),[r,y,Z]);(0,a.useEffect)(()=>{if(0===Object.keys(o).length)return;let e=getUniqueValues("mtype","layer",null==Z?void 0:Z.toString()),t=o.mtype&&"string"==typeof o.mtype&&e.includes(o.mtype)?o.mtype:e[0]||"",l=getUniqueValues("etype","mtype",t,"layer",null==Z?void 0:Z.toString()),r=o.etype&&"string"==typeof o.etype&&l.includes(o.etype)?o.etype:l[0]||"",a=getFilteredMorphologies(t,r,Z),y=o.morphology&&"string"==typeof o.morphology&&a.includes(o.morphology)?o.morphology:a[0]||"";n(t),S(r),N(y)},[o,Z]),(0,a.useEffect)(()=>{let fetchData=async()=>{if(g)try{let[e,t]=await Promise.all([fetch("".concat(P.$N,"/3_digital-reconstruction/neuron/").concat(r,"/").concat(y,"/").concat(g,"/trace.json")),fetch("".concat(P.$N,"/3_digital-reconstruction/neuron/").concat(r,"/").concat(y,"/").concat(g,"/features_with_rheobase.json"))]),o=await e.json(),l=await t.json();B(o),E(l),F(T),R(k)}catch(e){B(null),E(null),F(null),R(null)}};fetchData()},[g]);let setParams=e=>{let o={...t.query,...e};t.push({query:o,pathname:t.pathname},void 0,{shallow:!0})},setMtype=e=>{let t=getUniqueValues("etype","mtype",e),o=t[0]||"",l=getFilteredMorphologies(e,o),r=l[0]||"";setParams({mtype:e,etype:o,morphology:r})},setEtype=e=>{let t=getFilteredMorphologies(r,e),o=t[0]||"";setParams({etype:e,morphology:o})},setMorphology=e=>{setParams({morphology:e})},setLayer=e=>{I(e);let t=getUniqueValues("mtype","layer",e.toString()),o=t[0]||"",l=getUniqueValues("etype","mtype",o,"layer",e.toString()),r=l[0]||"",n=getFilteredMorphologies(o,r,e),a=n[0]||"";setParams({layer:e.toString(),mtype:o,etype:r,morphology:a})},H=[{title:"Layer",key:"layer",values:Array.from(new Set(A.map(e=>e.layer))),setFn:setLayer},{title:"M-Type",key:"mtype",values:L,setFn:setMtype},{title:"E-Type",key:"etype",values:V,setFn:setEtype},{title:"Morphology",key:"morphology",values:D,setFn:setMorphology}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{theme:3,children:(0,l.jsxs)("div",{className:"row w-100 content-center",children:[(0,l.jsxs)("div",{className:"col-xs-12 col-lg-6 content-center",children:[(0,l.jsx)(i.Z,{title:"Neurons",subtitle:"Digital Reconstructions",theme:3}),(0,l.jsx)(p.Z,{children:(0,l.jsxs)("p",{children:["We used the"," ",(0,l.jsx)(s(),{className:"link theme-".concat(3),href:"/reconstruction-data/neuron-model-library/",children:"single neuron library"})," ","to populate the network model. The neuron models that find their way into the circuit represent a subset of the entire initial library."]})})]}),(0,l.jsx)("div",{className:"col-xs-12 col-lg-6",children:(0,l.jsxs)("div",{className:"selector",children:[(0,l.jsxs)("div",{className:"selector__column theme-".concat(3),children:[(0,l.jsx)("div",{className:"selector__head theme-".concat(3),children:"Choose a layer"}),(0,l.jsx)("div",{className:"selector__selector-container",children:(0,l.jsx)(v.Z,{value:Z||void 0,onSelect:setLayer,theme:3})})]}),(0,l.jsxs)("div",{className:"selector__column theme-".concat(3),children:[(0,l.jsx)("div",{className:"selector__head theme-".concat(3),children:"Select reconstruction"}),(0,l.jsxs)("div",{className:"selector__body",children:[(0,l.jsx)(h.Z,{block:!0,list:L,value:r,title:"M-type ".concat(L.length?"(".concat(L.length,")"):""),onSelect:setMtype,theme:3}),(0,l.jsx)(h.Z,{block:!0,list:V,value:y,title:"E-type ".concat(V.length?"(".concat(V.length,")"):""),onSelect:setEtype,theme:3}),(0,l.jsx)(h.Z,{block:!0,list:D,value:g,title:"Morphology ".concat(D.length?"(".concat(D.length,")"):""),onSelect:setMorphology,anchor:"data",theme:3})]})]})]})})]})}),(0,l.jsxs)(u.Z,{theme:3,navItems:[{id:"traceSection",label:"Trace"},{id:"bPAPPSPSection",label:"bPAP & PSP"},{id:"factsheetSection",label:"Factsheet"},{id:"ExperimentalMorphologySection",label:"Experimental morphology used for this model"}],quickSelectorEntries:H,children:[(0,l.jsx)(w.f,{href:"".concat(P.$N,"/3_digital-reconstruction/neuron/").concat(r,"/").concat(y,"/").concat(g,"/morphology.swc")}),(0,l.jsxs)(d.Z,{id:"traceSection",className:"mt-4",title:"Trace",children:[(0,l.jsx)("div",{className:"graph",children:M&&(0,l.jsx)(f.Z,{plotData:M})}),M&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(_.Z,{onClick:()=>(0,C.KO)(M,"".concat(r,"-").concat(y,"-").concat(g,"-trace.json")),theme:3,children:"Trace data"})})]}),(0,l.jsx)(d.Z,{id:"factsheetSection",className:"mt-4",title:"Factsheet",children:O&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{facts:O}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(_.Z,{onClick:()=>(0,C.KO)(O,"".concat(r,"-").concat(y,"-").concat(g,"-factsheet.json")),theme:3,children:"Factsheet"})})]})}),(0,l.jsx)(d.Z,{id:"bPAPPSPSection",className:"mt-4",title:"bPAP & PSP",children:(0,l.jsx)(j.c,{url:"".concat(P.$N,"/epsp-bpap/digital_recon/").concat(r,"/").concat(y,"/").concat(g)})}),(0,l.jsx)(d.Z,{id:"ExperimentalMorphologySection",className:"mt-4",title:"Experimental morphology used for this model",children:(0,l.jsx)(x.Z,{MorphologyData:A,currentInstance:g,isMorphologyLibrary:!0})})]})]})},{key:"mtype",defaultQuery:S.defaultSelection.digitalReconstruction.neurons});function DigRecNeuronsPage(){let e={title:"Neurons | Digital Reconstructions | The Hippocampus Hub",description:"Explore a library of neuron reconstructions in the hippocampus. Analyze the detailed neuron models that populate the network, based on reconstructed morphologies and electrophysiological recordings.",keywords:["Neuron Models","Hippocampus","Digital Reconstructions","Reconstructed Morphology","Neuroscience","Blue Brain Project"],author:"Blue Brain Project",creator:"EPFL Blue Brain Project",publisher:"The Hippocampus Hub"};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:e.title}),(0,l.jsx)("meta",{name:"description",content:e.description}),(0,l.jsx)("meta",{name:"keywords",content:e.keywords.join(", ")}),(0,l.jsx)("meta",{name:"author",content:e.author}),(0,l.jsx)("meta",{name:"creator",content:e.creator}),(0,l.jsx)("meta",{name:"publisher",content:e.publisher})]}),(0,l.jsx)(N,{})]})}},22944:function(e){"use strict";e.exports=JSON.parse('[{"morphology":"455995","etype":"cNAC","mtype":"SO_BP","layer":"SO"},{"morphology":"455996","etype":"cNAC","mtype":"SO_BP","layer":"SO"},{"morphology":"455997","etype":"cNAC","mtype":"SO_BP","layer":"SO"},{"morphology":"455998","etype":"cNAC","mtype":"SO_BP","layer":"SO"},{"morphology":"455999","etype":"cNAC","mtype":"SO_BP","layer":"SO"},{"morphology":"450290","etype":"cAC","mtype":"SO_OLM","layer":"SO"},{"morphology":"450291","etype":"cAC","mtype":"SO_OLM","layer":"SO"},{"morphology":"450292","etype":"cAC","mtype":"SO_OLM","layer":"SO"},{"morphology":"450294","etype":"cAC","mtype":"SO_OLM","layer":"SO"},{"morphology":"454569","etype":"cAC","mtype":"SO_Tri","layer":"SO"},{"morphology":"454570","etype":"cAC","mtype":"SO_Tri","layer":"SO"},{"morphology":"454571","etype":"cAC","mtype":"SO_Tri","layer":"SO"},{"morphology":"454572","etype":"cAC","mtype":"SO_Tri","layer":"SO"},{"morphology":"454573","etype":"cAC","mtype":"SO_Tri","layer":"SO"},{"morphology":"430019","etype":"bAC","mtype":"SP_AA","layer":"SP"},{"morphology":"430020","etype":"bAC","mtype":"SP_AA","layer":"SP"},{"morphology":"430021","etype":"bAC","mtype":"SP_AA","layer":"SP"},{"morphology":"430022","etype":"bAC","mtype":"SP_AA","layer":"SP"},{"morphology":"426580","etype":"bAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426587","etype":"bAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426595","etype":"bAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426598","etype":"bAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426603","etype":"bAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426576","etype":"cNAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426577","etype":"cNAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426578","etype":"cNAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426579","etype":"cNAC","mtype":"SP_BS","layer":"SP"},{"morphology":"426581","etype":"cNAC","mtype":"SP_BS","layer":"SP"},{"morphology":"419490","etype":"cAC","mtype":"SP_CCKBC","layer":"SP"},{"morphology":"419491","etype":"cAC","mtype":"SP_CCKBC","layer":"SP"},{"morphology":"419492","etype":"cAC","mtype":"SP_CCKBC","layer":"SP"},{"morphology":"419493","etype":"cAC","mtype":"SP_CCKBC","layer":"SP"},{"morphology":"419494","etype":"cAC","mtype":"SP_CCKBC","layer":"SP"},{"morphology":"432267","etype":"bAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432268","etype":"bAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432272","etype":"bAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432273","etype":"bAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432275","etype":"bAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432269","etype":"cNAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432270","etype":"cNAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432271","etype":"cNAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432274","etype":"cNAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"432280","etype":"cNAC","mtype":"SP_Ivy","layer":"SP"},{"morphology":"1672","etype":"cACpyr","mtype":"SP_PC","layer":"SP"},{"morphology":"1673","etype":"cACpyr","mtype":"SP_PC","layer":"SP"},{"morphology":"1674","etype":"cACpyr","mtype":"SP_PC","layer":"SP"},{"morphology":"1675","etype":"cACpyr","mtype":"SP_PC","layer":"SP"},{"morphology":"1676","etype":"cACpyr","mtype":"SP_PC","layer":"SP"},{"morphology":"408342","etype":"bAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408353","etype":"bAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408359","etype":"bAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408361","etype":"bAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408370","etype":"bAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408338","etype":"cNAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408339","etype":"cNAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408340","etype":"cNAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408341","etype":"cNAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"408343","etype":"cNAC","mtype":"SP_PVBC","layer":"SP"},{"morphology":"864","etype":"cAC","mtype":"SR_SCA","layer":"SR"},{"morphology":"865","etype":"cAC","mtype":"SR_SCA","layer":"SR"},{"morphology":"866","etype":"cAC","mtype":"SR_SCA","layer":"SR"},{"morphology":"867","etype":"cAC","mtype":"SR_SCA","layer":"SR"},{"morphology":"868","etype":"cAC","mtype":"SR_SCA","layer":"SR"}]')}},function(e){e.O(0,[3737,7056,4055,9006,685,5060,2307,5675,3329,8287,4088,7386,9774,2888,179],function(){return e(e.s=7839)}),_N_E=e.O()}]);
//# sourceMappingURL=neurons-23f4baee22815a6f.js.map