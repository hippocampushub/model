(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1887],{13690:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/validations/connection-anatomy",function(){return a(57913)}])},82718:function(e,t,a){"use strict";var n=a(85893);a(67294);var o=a(93967),i=a.n(o),l=a(51763),r=a.n(l);t.Z=e=>{let{centered:t,children:a}=e;return(0,n.jsx)("div",{className:r().flexWrapper,children:(0,n.jsx)("div",{className:i()(r().container,t?r()["container--centered"]:""),children:a})})}},61267:function(e,t,a){"use strict";a.d(t,{N4:function(){return r},ST:function(){return d},defaultSelection:function(){return u},hk:function(){return c},jo:function(){return s},lB:function(){return l},nQ:function(){return p},rS:function(){return o},ug:function(){return n},x8:function(){return i}});let n=["SLM","SR","SP","SO"],o={1:{default:4472923,hover:8217967,selected:11962755,selectedEdges:15707799},2:{default:4472923,hover:8084330,selected:11761017,selectedEdges:15372424},3:{default:4472923,hover:7428464,selected:10449284,selectedEdges:13404825},4:{default:4472923,hover:6446455,selected:8420242,selectedEdges:10393774},5:{default:3751262,hover:5856633,selected:7240599,selectedEdges:8624309}},i={red:"#C46785",blue:"#3b4165",green:"#7FD982",purple:"#7F5482",yellow:"#f9f871"},l={experimental_data:"#EFAE97",reconstruction_data:"#EA9088",digital_reconstruction:"#CC8A99",validations:"#9E98AE",predictions:"#8398B5"},r=["all","axon","apical","basal","dendrite","soma"],s=["region","slice","cylinder"],c=["0um","10um","100um"],d=["All","Excitatory","Inhibitory","SLM_PPA","SO_BP","SO_BS","SO_OLM","SO_Tri","SP_AA","SP_BS","SP_CCKBC","SP_Ivy","SP_PC","SP_PVBC","SR_SCA"],u={experimentalData:{layerAnatomy:{layer:"SLM"},neuronMorphology:{layer:"SLM",mtype:"SLM_PPA",instance:"011127HP1"},neuronElectrophysiology:{etype:"bAC",etype_instance:"95810035"}},reconstructionData:{volume:{volume_section:"region"},cellComposition:{volume_section:"region"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"CA1_int_bAC_011127HP1_20190329115610"}},digitalReconstruction:{region:{volume_section:"region"},morphologyLibrary:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",morphology:"011127HP1"},schafferCollateral:{volume_section:"region",prelayer:"SC",postlayer:"All"},connectionAnatomy:{volume_section:"region",prelayer:"All",postlayer:"All"},connectionPhysiology:{volume_section:"region",prelayer:"all",postlayer:"all"},acetylcholineEffectsOnCell:{morphology:"450290",etype:"cNAC",mtype:"SO_BP"},acetylcholineEffectsOnSynapses:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"},neurons:{layer:"SLM",etype:"bAC",mtype:"SLM_PPA",instance:"011127HP1"},NeuronModelLibrary:{mtype:"SO_BP",etype:"cNAC",morphology:"980120A_-_Scale_x1.000_y0.900_z1.000"},synapticPathways:{volume_section:"slice",prelayer:"All",postlayer:"All"},acetylcholine:{ach_concentration:"0um",prelayer:"Excitatory",postlayer:"Excitatory"}}},p={all:"#1fcf1f",axon:"#1111ff",apical:"#f442ad",basal:"#ff1111",dendrite:"#ff1111",soma:"#000"}},57913:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ConnectionAnatomyPage}});var n=a(85893),o=a(9008),i=a.n(o),l=a(67294),r=a(41664),s=a.n(r),c=a(71376),d=a(82718),u=a(78433),p=a(67264),m=a(50818),y=a(35930),x=a(23148),h=a(42978),b=a(33638),g=a(17931),v=a(61267);x.kL.register(x.ho,x.uw,x.f$,x.od,x.jn,x.u,x.Dx,x.De);var BoutonDensityValidation=e=>{let{theme:t}=e,a=(0,l.useRef)(null),[o,i]=(0,l.useState)(null),[r,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch(g.$N+"/4_validations/connection-anatomy/bouton-density-validation.json").then(e=>e.json()).then(e=>s(e)).catch(e=>console.error("Error fetching bouton density validation data:",e))},[]);let createChart=()=>{if(a.current&&r){let e=a.current.getContext("2d");if(e){let t=new x.kL(e,{type:"scatter",data:{labels:Object.values(r.value_map.mtype),datasets:[{label:"Model",data:Object.values(r.value_map.mtype).map((e,t)=>({x:t,y:r.value_map.model_mean[t],yMin:r.value_map.model_mean[t]-r.value_map.model_std[t],yMax:r.value_map.model_mean[t]+r.value_map.model_std[t]})),backgroundColor:"black",borderColor:"black",pointStyle:"circle",pointRadius:3,showLine:!1},{label:"Experiment",data:Object.values(r.value_map.mtype).map((e,t)=>({x:t,y:r.value_map.exp_mean[t]})),backgroundColor:v.x8.red,borderColor:v.x8.red,pointStyle:"circle",pointRadius:3,showLine:!1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"category",title:{display:!0,text:"mtype"}},y:{title:{display:!0,text:"bouton density (umâ»\xb9)"},min:0,max:.5}},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:6,boxHeight:6,padding:20,font:{size:11,weight:"normal"}},onClick:()=>{}},title:{display:!1}}},plugins:[{id:"errorBar",afterDatasetsDraw(e,t,a){let{ctx:n,data:o,scales:{x:i,y:l}}=e;n.save(),o.datasets.forEach(e=>{"Model"===e.label&&e.data.forEach(t=>{if(void 0!==t.yMin&&void 0!==t.yMax){let a=i.getPixelForValue(t.x),o=l.getPixelForValue(t.yMin),r=l.getPixelForValue(t.yMax);n.strokeStyle=e.borderColor,n.lineWidth=2,n.beginPath(),n.moveTo(a,o),n.lineTo(a,r),n.stroke(),n.beginPath(),n.moveTo(a-5,o),n.lineTo(a+5,o),n.moveTo(a-5,r),n.lineTo(a+5,r),n.stroke()}})}),n.restore()}}]});i(t)}}};return(0,l.useEffect)(()=>{createChart();let handleResize=()=>{o&&o.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),o&&o.destroy()}},[r]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph",style:{height:"500px"},children:(0,n.jsx)("canvas",{ref:a})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(r,"Bouton-Density-Validation-Data.json"),children:"Bouton density"})})]})};x.kL.register(x.ho,x.f$,x.od,x.jn,x.u,x.De);var ConnectionProbability=e=>{let{theme:t}=e,a=(0,l.useRef)(null),[o,i]=(0,l.useState)(null),[r,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch(g.$N+"/4_validations/connection-anatomy/connection-probability.json").then(e=>e.json()).then(e=>s(e))},[]);let createChart=()=>{if(a.current&&r){let e=a.current.getContext("2d");if(e){let t=Object.keys(r.value_map.exp_mean).map(e=>({x:r.value_map.exp_mean[e],y:r.value_map.model_mean[e],connectionClass:r.value_map.connection_class[e]})),a={datasets:[{label:"EE",data:t.filter(e=>"EE"===e.connectionClass),backgroundColor:v.x8.red,pointStyle:"circle"},{label:"EI",data:t.filter(e=>"EI"===e.connectionClass),backgroundColor:v.x8.green,pointStyle:"circle"},{label:"IE",data:t.filter(e=>"IE"===e.connectionClass),backgroundColor:v.x8.blue,pointStyle:"circle"},{label:"II",data:t.filter(e=>"II"===e.connectionClass),backgroundColor:v.x8.purple,pointStyle:"circle"}]},n=new x.kL(e,{type:"scatter",data:a,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Connection probability Experiment"},min:0,max:.5,ticks:{color:"black",font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",position:"left",title:{display:!0,text:"Connection probability Model"},min:0,max:.5,ticks:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:6,boxHeight:6,padding:15,font:{size:12}}},tooltip:{callbacks:{label:e=>"".concat(e.dataset.label,": (").concat(e.parsed.x.toFixed(3),", ").concat(e.parsed.y.toFixed(3),")")}}}},plugins:[{id:"customPlugin",afterDraw:e=>{let{ctx:t,chartArea:{top:a,bottom:n,left:o,right:i},scales:{x:l,y:r}}=e;t.save(),t.strokeStyle="rgba(200, 200, 200, 0.5)",t.setLineDash([5,5]),t.beginPath(),t.moveTo(o,n),t.lineTo(i,a),t.stroke(),t.restore()}}]});i(n)}}};return((0,l.useEffect)(()=>{r&&createChart();let handleResize=()=>{o&&o.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),o&&o.destroy()}},[r]),r)?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph graph--rect",style:{height:"500px"},children:(0,n.jsx)("canvas",{ref:a})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(r,"Connection-Probability-Data.json"),children:"Connection probability"})})]}):(0,n.jsx)("div",{children:"Loading..."})};x.kL.register(x.ST,x.vn,x.uw,x.f$,x.od,x.jn,x.u,x.Dx,x.De);var DivergenceValidation=e=>{let{theme:t}=e,a=(0,l.useRef)(null),[o,i]=(0,l.useState)(null),[r,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch(g.$N+"/4_validations/connection-anatomy/divergence-validation.json").then(e=>e.json()).then(e=>{s(e)})},[]),(0,l.useEffect)(()=>{r&&a.current&&createChart()},[r]);let createChart=()=>{if(!r||!a.current)return;let e=a.current.getContext("2d");if(!e)return;let t=Object.keys(r.value_map.mtype).map(e=>({x:r.value_map.mtype[e],y:r.value_map.model_mean[e],yMin:r.value_map.model_mean[e]-r.value_map.model_std[e],yMax:r.value_map.model_mean[e]+r.value_map.model_std[e]})),n=Object.keys(r.value_map.mtype).map(e=>({x:r.value_map.mtype[e],y:r.value_map.exp_mean[e],yMin:r.value_map.exp_mean[e]-(r.value_map.exp_std[e]||0),yMax:r.value_map.exp_mean[e]+(r.value_map.exp_std[e]||0)})).filter(e=>null!==e.y),o=new x.kL(e,{type:"bar",data:{labels:Object.values(r.value_map.mtype),datasets:[{type:"scatter",label:"Model",data:t,backgroundColor:"black",pointStyle:"circle",borderColor:"black",borderWidth:1},{type:"scatter",label:"Experiment",data:n,backgroundColor:v.x8.red,pointStyle:"circle",borderColor:v.x8.red,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"category",position:"bottom",title:{display:!0,text:"mtype"}},y:{type:"linear",position:"left",title:{display:!0,text:"Divergence (synapses)"},min:0,max:25e3}},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:6,boxHeight:6,padding:20}},tooltip:{callbacks:{label:e=>{let t=e.dataset.label,a=e.parsed.y.toFixed(2);return"".concat(t,": ").concat(a)}}}}},plugins:[{id:"customPlugin",afterDraw:e=>{let{ctx:a,scales:{x:o,y:i}}=e;a.save(),a.lineWidth=2,t.forEach(e=>{let t=o.getPixelForValue(e.x),n=i.getPixelForValue(e.yMin),l=i.getPixelForValue(e.yMax);a.strokeStyle="black",a.beginPath(),a.moveTo(t,n),a.lineTo(t,l),a.stroke(),a.beginPath(),a.moveTo(t-5,n),a.lineTo(t+5,n),a.moveTo(t-5,l),a.lineTo(t+5,l),a.stroke()}),n.forEach(e=>{let t=o.getPixelForValue(e.x),n=i.getPixelForValue(e.yMin),l=i.getPixelForValue(e.yMax);a.strokeStyle=v.x8.red,a.beginPath(),a.moveTo(t,n),a.lineTo(t,l),a.stroke(),a.beginPath(),a.moveTo(t-5,n),a.lineTo(t+5,n),a.moveTo(t-5,l),a.lineTo(t+5,l),a.stroke()}),a.restore()}}]});i(o)};return(0,l.useEffect)(()=>{let handleResize=()=>{o&&o.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),o&&o.destroy()}},[o]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph",style:{height:"500px"},children:(0,n.jsx)("canvas",{ref:a})}),r&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(r,"Divergence-Validation-Data.json"),children:"Divergence validation"})})]})};x.kL.register(x.ho,x.f$,x.od,x.jn,x.u,x.De,x.uw);let S={id:"errorBar",afterDatasetsDraw(e,t,a){let{ctx:n,data:o,chartArea:{top:i,bottom:l,left:r,right:s},scales:{x:c,y:d}}=e;n.save(),o.datasets.forEach((e,t)=>{e.data.forEach((t,a)=>{if(void 0!==t.yMin&&void 0!==t.yMax){let a=c.getPixelForValue(t.x);d.getPixelForValue(t.y);let o=d.getPixelForValue(t.yMin),i=d.getPixelForValue(t.yMax),l=Math.max(r,Math.min(a,s));n.strokeStyle=e.borderColor,n.lineWidth=2,n.beginPath(),n.moveTo(l,o),n.lineTo(l,i),n.stroke(),n.beginPath(),n.moveTo(l-5,o),n.lineTo(l+5,o),n.moveTo(l-5,i),n.lineTo(l+5,i),n.stroke()}})}),n.restore()}};var ConvergenceValidation=e=>{let{theme:t,data:a}=e,o=(0,l.useRef)(null),[i,r]=(0,l.useState)(null),createChart=()=>{if(o.current){let e=o.current.getContext("2d");if(e){let t=a.data.reduce((e,t)=>{let a=Math.max(t[4]+(t[5]||0),t[2]+(t[3]||0));return a>e?a:e},0),n=new x.kL(e,{type:"scatter",data:{datasets:[{label:"Inhibitory",data:a.data.filter(e=>"inh"===e[1]).map(e=>({x:e[0],y:e[4],yMin:Math.max(0,e[4]-e[5]),yMax:e[4]+e[5]})),backgroundColor:v.x8.blue,borderColor:v.x8.blue},{label:"Excitatory",data:a.data.filter(e=>"exc"===e[1]).map(e=>({x:e[0],y:e[4],yMin:Math.max(0,e[4]-e[5]),yMax:e[4]+e[5]})),backgroundColor:v.x8.green,borderColor:v.x8.green},{label:"Experimental",data:a.data.map(e=>({x:e[0],y:e[2],yMin:Math.max(0,e[2]-e[3]),yMax:e[2]+e[3]})),backgroundColor:v.x8.red,borderColor:v.x8.red}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"category",position:"bottom",title:{display:!1,text:"Region"},offset:!0,ticks:{padding:10},grid:{display:!1,offset:!0}},y:{type:"linear",position:"left",title:{display:!0,text:"Number of synapses"},min:0,suggestedMax:1.1*t}},plugins:{legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:6,boxHeight:6}},tooltip:{enabled:!0}},layout:{padding:{left:10,right:10,top:10,bottom:10}}},plugins:[S]});r(n)}}};return(0,l.useEffect)(()=>{createChart();let handleResize=()=>{i&&i.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),i&&i.destroy()}},[a]),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"graph no-margin",style:{height:"500px"},children:(0,n.jsx)("canvas",{ref:o})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(a,a.name),children:"Convergence validation"})})]})},f=a(66879),LaminarDistributionOfSynapses=e=>{let{theme:t}=e,a=(0,l.useRef)(null),o=[{name:"SLM_PPA",SO:[0,0],SP:[0,0],SR:[35.48,37.7],SLM:[64.18,62.3],out:[.34,null]},{name:"SR_SCA",SO:[26.65,0],SP:[14.45,.2],SR:[56.15,97.4],SLM:[1.88,2.4],out:[.86,null]},{name:"SP_AA",SO:[5.52,null],SP:[89.96,null],SR:[4.52,null],SLM:[0,null],out:[0,null]},{name:"SP_BS",SO:[32.64,47.6],SP:[20.86,9.85],SR:[45.85,42.55],SLM:[.2,0],out:[.46,null]},{name:"SP_CCKBC",SO:[34.76,29.4],SP:[43.95,62.85],SR:[21.03,7.75],SLM:[.03,0],out:[.24,null]},{name:"SP_Ivy",SO:[34.4,null],SP:[36.26,null],SR:[29.12,null],SLM:[.02,null],out:[.2,null]},{name:"SP_PC",SO:[77.47,null],SP:[11.48,null],SR:[3.34,null],SLM:[.02,null],out:[7.68,null]},{name:"SP_PVBC",SO:[33.1,null],SP:[43,null],SR:[23.58,null],SLM:[.05,null],out:[.27,null]},{name:"SO_BP",SO:[31.11,null],SP:[24.54,null],SR:[40.36,null],SLM:[3.56,null],out:[.43,null]},{name:"SO_BS",SO:[33.11,48.1],SP:[17.9,12.4],SR:[47.46,39.5],SLM:[.9,0],out:[.64,null]},{name:"SO_OLM",SO:[.39,null],SP:[.55,null],SR:[31.28,null],SLM:[65.6,null],out:[2.18,null]},{name:"SO_Tri",SO:[57.41,58.12],SP:[27.02,18.11],SR:[14.39,23.77],SLM:[.13,0],out:[1.06,null]}];return(0,l.useEffect)(()=>{let e=f.S1(a.current),t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["SO (Model)","SP (Model)","SR (Model)","SLM (Model)","out (Model)","SO (Exp)","SP (Exp)","SR (Exp)","SLM (Exp)"]},xAxis:{type:"category",data:o.map(e=>e.name),axisLabel:{interval:0,rotate:45,align:"right",margin:10},name:"mtype",nameLocation:"middle",nameGap:50},yAxis:{type:"value",name:"Synapses (%)",max:100,nameLocation:"middle",nameGap:50,nameRotate:90},grid:{bottom:"15%",left:"10%"},series:[{name:"SO (Model)",type:"bar",stack:"Model",emphasis:{focus:"series"},data:o.map(e=>e.SO[0]),color:v.x8.blue},{name:"SP (Model)",type:"bar",stack:"Model",emphasis:{focus:"series"},data:o.map(e=>e.SP[0]),color:v.x8.yellow},{name:"SR (Model)",type:"bar",stack:"Model",emphasis:{focus:"series"},data:o.map(e=>e.SR[0]),color:v.x8.green},{name:"SLM (Model)",type:"bar",stack:"Model",emphasis:{focus:"series"},data:o.map(e=>e.SLM[0]),color:v.x8.red},{name:"out (Model)",type:"bar",stack:"Model",emphasis:{focus:"series"},data:o.map(e=>e.out[0]),color:v.x8.purple},{name:"SO (Exp)",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:o.map(e=>e.SO[1]),color:v.x8.blue,itemStyle:{decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}},{name:"SP (Exp)",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:o.map(e=>e.SP[1]),color:v.x8.yellow,itemStyle:{decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}},{name:"SR (Exp)",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:o.map(e=>e.SR[1]),color:v.x8.green,itemStyle:{decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}},{name:"SLM (Exp)",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:o.map(e=>e.SLM[1]),color:v.x8.red,itemStyle:{decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}}]};return e.setOption(t),()=>{e.dispose()}},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph",children:(0,n.jsx)("div",{ref:a,style:{width:"100%",height:"500px"}})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(o,"Laminar-Distribution-Of-Synapses-Data.json"),children:"Laminar distribution of synapse"})})]})};x.kL.register(x.ST,x.ho,x.uw,x.f$,x.od,x.jn,x.u,x.Dx,x.De);var NbOfSynapsesPConnection=e=>{let{theme:t}=e,a=(0,l.useRef)(null),[o,i]=(0,l.useState)(null),[r,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("".concat(g.$N,"/4_validations/connection-anatomy/nb-of-synapses-p-connection.json")).then(e=>e.json()).then(e=>s(e))},[]);let createChart=()=>{if(a.current&&r){let e=a.current.getContext("2d");if(e){let t=Object.keys(r.value_map.exp_mean).map(e=>({x:r.value_map.exp_mean[e],y:r.value_map.model_mean[e],xError:r.value_map.exp_std[e]||0,yError:r.value_map.model_std[e]})),a=new x.kL(e,{type:"scatter",data:{datasets:[{label:"Model (Mean)",data:t,backgroundColor:v.x8.blue,pointStyle:"circle",borderColor:v.x8.blue,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Experiment"},type:"linear",position:"bottom",min:0,max:15,display:!0},y:{type:"linear",position:"left",title:{display:!0,text:"Model"},min:0,max:18,ticks:{font:{size:12}}}},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:6,boxHeight:6,padding:20},title:{padding:{top:10,bottom:10}}},tooltip:{callbacks:{label:e=>{let t=e.dataIndex,a=r.value_map.pre[t],n=r.value_map.post[t];return"".concat(a," -> ").concat(n,": (").concat(e.parsed.x.toFixed(2),", ").concat(e.parsed.y.toFixed(2),")")}}}}},plugins:[{id:"customPlugin",beforeDatasetsDraw(e,a,n){let{ctx:o,chartArea:{top:i,bottom:l,left:r,right:s},scales:{x:c,y:d}}=e;o.save(),o.strokeStyle="rgba(200, 200, 200, 0.5)",o.setLineDash([5,5]),o.beginPath(),o.moveTo(r,l),o.lineTo(s,i),o.stroke(),o.setLineDash([]),t.forEach(e=>{let t=c.getPixelForValue(e.x),a=d.getPixelForValue(e.y);o.strokeStyle=v.x8.red,o.lineWidth=2;let n=Math.abs(c.getPixelForValue(e.x+e.xError)-c.getPixelForValue(e.x));o.beginPath(),o.moveTo(t-n,a),o.lineTo(t+n,a),o.stroke(),o.beginPath(),o.moveTo(t-n,a-3),o.lineTo(t-n,a+3),o.moveTo(t+n,a-3),o.lineTo(t+n,a+3),o.stroke(),o.strokeStyle=v.x8.blue;let i=Math.abs(d.getPixelForValue(e.y+e.yError)-d.getPixelForValue(e.y));o.beginPath(),o.moveTo(t,a-i),o.lineTo(t,a+i),o.stroke(),o.beginPath(),o.moveTo(t-3,a-i),o.lineTo(t+3,a-i),o.moveTo(t-3,a+i),o.lineTo(t+3,a+i),o.stroke()}),o.restore()}}]});i(a)}}};return(0,l.useEffect)(()=>{r&&createChart()},[r]),(0,l.useEffect)(()=>{let handleResize=()=>{o&&o.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),o&&o.destroy()}},[o]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph graph--rect",style:{height:"500px"},children:(0,n.jsx)("canvas",{ref:a})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(r,"Nb-Of-Synapses-Per-Connection-Data.json"),children:"Number of synapses per connection"})})]})},SynapticDivergencePercentages=e=>{let{theme:t}=e,a=(0,l.useRef)(null),[o,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{fetch(g.$N+"/4_validations/connection-anatomy/synaptic-divergence-percentages.json").then(e=>e.json()).then(e=>i(e))},[]),(0,l.useEffect)(()=>{if(o&&a.current){let e=f.S1(a.current),t=Object.values(o.value_map.mtype),n=t.indexOf("SP_PC"),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){let t=e[0].axisValue+"<br/>";return e.forEach(e=>{t+="".concat(e.seriesName,": ").concat(e.value.toFixed(2),"%<br/>")}),t}},legend:{data:[{name:"E-E",itemStyle:{color:v.x8.red}},{name:"E-I",itemStyle:{color:v.x8.green}},{name:"I-E",itemStyle:{color:v.x8.blue}},{name:"I-I",itemStyle:{color:v.x8.purple}}],right:10,top:"center",orient:"vertical",selectedMode:!1},xAxis:{type:"category",data:t,axisLabel:{interval:0,rotate:45,align:"right",margin:10},name:"mtype",nameLocation:"middle",nameGap:50},yAxis:{type:"value",name:"Divergence (%)",nameLocation:"middle",nameGap:40,min:0,max:100},grid:{bottom:"15%",right:"15%"},series:[{name:"I-E",type:"bar",stack:"Model",emphasis:{focus:"series"},data:t.map((e,t)=>({value:o.value_map.model_PC[t],itemStyle:{color:t===n?v.x8.red:v.x8.blue}}))},{name:"I-I",type:"bar",stack:"Model",emphasis:{focus:"series"},data:t.map((e,t)=>({value:o.value_map.model_INT[t],itemStyle:{color:t===n?v.x8.green:v.x8.purple}}))},{name:"E-E",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:t.map((e,t)=>({value:o.value_map.exp_PC[t]||0,itemStyle:{color:6===t?v.x8.red:v.x8.blue,decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}}))},{name:"E-I",type:"bar",stack:"Exp",emphasis:{focus:"series"},data:t.map((e,t)=>({value:o.value_map.exp_INT[t]||0,itemStyle:{color:6===t?v.x8.green:v.x8.purple,decal:{symbol:"rect",symbolSize:1,rotation:Math.PI/4,dashArrayX:[1,0],dashArrayY:[2,5],color:"white"}}}))}]};e.setOption(i);let handleResize=()=>{e.resize()};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize),e.dispose()}}},[o]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"graph",style:{height:"500px"},ref:a}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b.Z,{theme:t,onClick:()=>(0,h.KO)(o,"Synaptic-Divergence-Percentages-Data.json"),children:"Synaptic divergence percentages"})})]})},ConnnectionAnatomy=()=>{let[e,t]=(0,l.useState)(null);return(0,l.useEffect)(()=>{fetch(g.$N+"/4_validations/connection-anatomy/convergence-validation.json").then(e=>e.json()).then(e=>t(e))},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{theme:4,hasData:!0,children:(0,n.jsx)("div",{className:"flex flex-col lg:flex-row w-full lg:items-center mt-40 lg:mt-0",children:(0,n.jsx)("div",{className:"w-full md:flex-none mb-8 md:mb-8 lg:pr-0",children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(u.Z,{title:"Connection Anatomy",subtitle:"Validations",theme:4}),(0,n.jsx)("div",{role:"information",children:(0,n.jsx)(p.Z,{children:(0,n.jsxs)("p",{children:["We validated the ",(0,n.jsx)(s(),{className:"link theme-".concat(4),href:"#",children:"connectome"})," with a series of ",(0,n.jsx)(s(),{className:"link theme-".concat(4),href:"#",children:"experimental data"})," not used to constrain it. These data include bouton density, number of synapses per connection, connection probability, convergence, and divergence."]})})})]})})})}),(0,n.jsxs)(m.Z,{theme:4,navItems:[{id:"BoutonDensityValidationSection",label:"Bouton density validation"},{id:"ConnectionProbabilitySection",label:"Connection probabilites validation"},{id:"ConvergenceValidationSection",label:"Convergence validation"},{id:"DivergenceValidationSection",label:"Divergence validation"},{id:"NbOfSynapsesPConnectionSection",label:"Nb. of synapse p.connection validation"},{id:"SynapticDivergencePercentagesSection",label:"Synaptic divergence percentages"},{id:"ModelLaminarDistributionOfDynapsesSection",label:"Model laminar distribution of synapses"}],children:[(0,n.jsx)(y.Z,{id:"BoutonDensityValidationSection",title:"Bouton density validation",children:(0,n.jsx)(BoutonDensityValidation,{theme:4})}),(0,n.jsx)(y.Z,{id:"ConnectionProbabilitySection",title:"Connection probabilites validation",children:(0,n.jsx)(ConnectionProbability,{theme:4})}),(0,n.jsx)(y.Z,{id:"ConvergenceValidationSection",title:"Convergence validation",children:(0,n.jsx)("div",{className:"flex flex-col gap-8",children:e&&(0,n.jsx)(ConvergenceValidation,{data:e,theme:4})})}),(0,n.jsx)(y.Z,{id:"DivergenceValidationSection",title:"Divergence validation",children:(0,n.jsx)(DivergenceValidation,{theme:4})}),(0,n.jsx)(y.Z,{id:"NbOfSynapsesPConnectionSection",title:"Number of synapse per connection validation",children:(0,n.jsx)(NbOfSynapsesPConnection,{theme:4})}),(0,n.jsx)(y.Z,{id:"SynapticDivergencePercentagesSection",title:"Synaptic divergence percentages",children:(0,n.jsx)(SynapticDivergencePercentages,{theme:4})}),(0,n.jsx)(y.Z,{id:"ModelLaminarDistributionOfDynapsesSection",title:"Model laminar distribution of synapses",children:(0,n.jsx)(LaminarDistributionOfSynapses,{theme:4})})]})]})};function ConnectionAnatomyPage(){let e={title:"Pathway Anatomy - Validation | The Hippocampus Hub",description:"We validated pathway anatomy with experimental data, including synaptic connection densities, bouton densities, and synapse divergence and convergence ratios.",keywords:["Pathway Anatomy","Synapse Density","Bouton Density","Divergence Ratios","Convergence Ratios","Validation Data","Hippocampus","Neuroscience","Blue Brain Project"],author:"Blue Brain Project",creator:"EPFL Blue Brain Project",publisher:"The Hippocampus Hub"};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:e.title}),(0,n.jsx)("meta",{name:"description",content:e.description}),(0,n.jsx)("meta",{name:"keywords",content:e.keywords.join(", ")}),(0,n.jsx)("meta",{name:"author",content:e.author}),(0,n.jsx)("meta",{name:"creator",content:e.creator}),(0,n.jsx)("meta",{name:"publisher",content:e.publisher})]}),(0,n.jsx)(ConnnectionAnatomy,{})]})}},51763:function(e){e.exports={container:"styles_container__31D34","container--center":"styles_container--center__Yuntq",flexWrapper:"styles_flexWrapper___gDLe"}}},function(e){e.O(0,[1228,2196,7056,9676,8764,6879,8287,9774,2888,179],function(){return e(e.s=13690)}),_N_E=e.O()}]);