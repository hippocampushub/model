(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{6757:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimental-data/neuronal-electrophysiology",function(){return t(1616)}])},1616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(5893),i=t(7294),o=t(1163),c=t(8818),s=t(9707),l=t(6616),a=t(5853),u=t(8928),d=t(8764),h=t(3692),f=t(2160),y=t(7142),p=t(6940),m=t(7070),x=t(176),g=t(6486),j=t(6704),b=t(9052),_=t.n(b);function v(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e){return Array.isArray(e)?e:[e]}function w(e){return e.name?e.name:"".concat(e.givenName," ").concat(e.familyName)}function C(e){return e.name?"institution":"person"}var E=function(e){var n=e.currentTrace,t=e.traces,o=void 0===t?[]:t,s=(0,c.I)(),l=o.reduce((function(e,n){var t=N(n.contribution).map((function(e){var n;return null===(n=e.agent)||void 0===n?void 0:n["@id"]})).filter(Boolean);return Array.from(new Set(v(e).concat(v(t))))}),[]),a=(0,i.useState)(null),u=a[0],d=a[1];(0,i.useEffect)((function(){if(l.length){var e={from:0,size:100,query:{terms:{_id:l}}};s.View.elasticSearchQuery(j.a.org,j.a.project,j.a.datasetViewId,e).then((function(e){return e.hits.hits})).then((function(e){return e.map((function(e){return e._source}))})).then((function(e){return e.map((function(e){return{id:e["@id"],label:w(e),type:C(e)}}))})).then((function(e){return(0,g.keyBy)(e,"id")})).then((function(e){return d(e)}))}}),[o]);var h=function(e){return e.name===n};return(0,r.jsx)("div",{id:o.length&&u?"expTraceTable":null,className:"layer-anatomy-summary__basis mt-2",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:_().highlightedRowBg,children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"E-Type"}),(0,r.jsx)("th",{children:"Contribution"})]})}),(0,r.jsx)("tbody",{children:o.map((function(e){return(0,r.jsxs)("tr",{className:h(e)?_().highlightedRowBg:void 0,children:[(0,r.jsx)("td",{className:"text-capitalize ".concat(h(e)?"text-bold":void 0),children:e.name}),(0,r.jsx)("td",{className:"text-capitalize ".concat(h(e)?"text-bold":void 0),children:e.annotation.hasBody.label}),(0,r.jsx)("td",{children:u&&N(e.contribution).map((function(e){return u[e.agent["@id"]]})).sort((function(e,n){return e.type>n.type?1:-1})).map((function(e){return(0,r.jsxs)("span",{children:[e.label," ",(0,r.jsx)("br",{})]},e.label)}))})]},e.name)}))})]})})},S=JSON.parse('{"cNAC":["95817000","95817001","95817002","99111004","99111006","98D15008","97717005","98D15009","98513011"],"cACpyr":["95810008","95831004","95817004","95810007","95810013","95810006","95810012","95810022","95810037","95817003","95810023","95810039","95810028","95810010","95810011","95810038","95810014","95824000","95824004","95912005","95810029","95822000","95810015","95824006","95817008","95912006","95822001","95914002","95822003","95822011","95914004","95914003","95822009","95810033","95822010","95810031","95831000","95810032","95822002","95810040","95817005","95810041","95810030","95810025","95810026","95817006","95831003","95810027","95831002","95810024","95817007"],"cAC":["97428000","97428001","98205021","97509010","98205025","98205024","97509011","98205022","97509009","97509008"],"bAC":["95810035","95810036","97911002","97911001","97911000","99111001","99111000","99111002"]}'),A=t(9601),O=t.n(A);function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var B=function(){var e=(0,o.useRouter)(),n=(0,c.I)(),t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Z(e,n,t[n])}))}return e}({},e.query),i=function(n){e.push({query:n,pathname:e.pathname},void 0,{shallow:!0})},g=t.etype,j=t.etype_instance,b=Object.keys(S).sort(),_=g?S[g].sort():[],v=function(e){return e.map((function(e){return e._source})).sort((function(e,n){return e.name>n.name?1:-1}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{backgroundAlt:!0,children:(0,r.jsxs)("div",{className:"row bottom-xs w-100",children:[(0,r.jsxs)("div",{className:"col-xs-12 col-lg-6",children:[(0,r.jsx)(f.Z,{primaryColor:p.rp,title:(0,r.jsxs)("span",{children:["Neuron ",(0,r.jsx)("br",{})," Electrophysiology"]}),subtitle:"Experimental Data"}),(0,r.jsx)(y.Z,{color:"grey-1",text:"We recorded electrical traces from neurons using single-cell recording experiments in brain slices. Then, we classified the traces in different electrical types (e-types) based on their firing patterns. We have identified one e-type for excitatory cells and four e-types for inhibitory cells."})]}),(0,r.jsx)("div",{className:"col-xs-12 col-lg-4 col-lg-offset-1",children:(0,r.jsxs)("div",{className:O().selector,children:[(0,r.jsx)("div",{className:O().selectorHead,children:"Select cell type"}),(0,r.jsxs)("div",{className:O().selectorBody,children:[(0,r.jsx)(m.Z,{list:b,value:g,title:"e-type",color:p.rp,onSelect:function(e){i({etype:e,etype_instance:j})}}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(m.Z,{list:_,value:j,title:"Experiment instance (".concat(_.length,")"),color:p.rp,onSelect:function(e){i({etype:g,etype_instance:e})},anchor:"data"})]})]})})]})}),(0,r.jsxs)(a.Z,{visible:!!j,children:[(0,r.jsx)(x.Z,{id:"instanceSection",title:"Electrophysiological Recordings for ".concat(g,"_").concat(j),children:(0,r.jsx)(l.Z,{query:(0,d.PC)(g,j),children:function(e){return(0,r.jsx)(r.Fragment,{children:!!e&&!!e.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{name:"neuron-electrophysiology",resource:e[0]._source,nexusClient:n}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)(s.Z,{className:"mr-1",type:"primary",size:"small",href:"/build/data/electrophysiology?query=".concat(encodeURIComponent(j)),children:"Send to the Build section"})})]})})}})}),(0,r.jsxs)(x.Z,{id:"etypeSection",className:"mt-4",title:"Population",children:[(0,r.jsx)("h3",{className:"mt-3",children:"Experimental instances"}),(0,r.jsx)(l.Z,{query:(0,d.d_)(g),children:function(e){return(0,r.jsx)(r.Fragment,{children:!!e&&(0,r.jsx)(E,{traces:v(e),currentTrace:j})})}})]})]})]})};function T(){return(0,r.jsx)(B,{})}},9052:function(e){e.exports={highlightedRowBg:"styles_highlightedRowBg__KXEdg"}},9601:function(e){e.exports={selector:"neuron-electrophysiology_selector__MCmCG",selectorColumn:"neuron-electrophysiology_selectorColumn__VgH4S",selectorHead:"neuron-electrophysiology_selectorHead__AsJgx",selectorBody:"neuron-electrophysiology_selectorBody__owuqe"}}},function(e){e.O(0,[774,866,662,221,888,179],(function(){return n=6757,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=neuronal-electrophysiology-228e9bf791fd5fb7.js.map