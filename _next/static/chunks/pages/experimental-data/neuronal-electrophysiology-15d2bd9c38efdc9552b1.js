_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"5rjX":function(e,t,r){"use strict";var n=r("nKUr"),o=r("cpVT"),c=r("xvhg"),s=r("q1tI"),i=r.n(s),a=r("PEiy"),l=r("1wtQ");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.query,r=e.children,o=i.a.useState({data:null,loading:!1,error:null}),s=Object(c.a)(o,2),u=s[0],j=s[1],d=Object(a.b)();return i.a.useEffect((function(){t&&(j(b(b({},u),{},{loading:!0,data:null})),d.View.elasticSearchQuery(l.d.org,l.d.project,l.d.datasetViewId,t).then((function(e){return j(b(b({},u),{},{loading:!1,data:e.hits.hits}))})).catch((function(e){return j(b(b({},u),{},{loading:!1,error:e}))})))}),[t]),Object(n.jsx)(n.Fragment,{children:r(u.data,u.loading,u.error)})}},LyIA:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return s}));var n=function(e,t){return e&&t?{from:0,size:100,query:{bool:{filter:[{bool:{must:[{term:{"@type":"https://neuroshapes.org/Trace"}}]}},{bool:{must:{term:{"name.raw":t}}}},{nested:{path:"annotation.hasBody",query:{bool:{filter:{term:{"annotation.hasBody.label.raw":e}}}}}},{nested:{path:"distribution",query:{bool:{must:{match:{"distribution.encodingFormat":"application/nwb"}}}}}}]}}}:null},o=function(e){return e?{from:0,size:200,query:{bool:{filter:[{bool:{should:[{term:{_deprecated:!1}}]}},{bool:{should:[{term:{"@type":"https://neuroshapes.org/ReconstructedCell"}}]}},{nested:{path:"annotation.hasBody",query:{bool:{filter:[{term:{"annotation.hasBody.label.raw":e}}]}}}}]}}}:null},c=function(e,t){return e&&t?{from:0,size:100,query:{bool:{filter:[{bool:{should:[{term:{_deprecated:!1}}]}},{bool:{should:[{term:{"@type":"https://neuroshapes.org/NeuronMorphology"}}]}},{bool:{should:[{term:{"name.raw":t}}]}}]}}}:null},s=function(e){return e?{from:0,size:1e4,query:{bool:{filter:[{bool:{must:[{term:{"@type":"https://neuroshapes.org/Trace"}}]}},{bool:{must_not:{exists:{field:"note"}}}},{nested:{path:"annotation.hasBody",query:{bool:{filter:{term:{"annotation.hasBody.label.raw":e}}}}}},{nested:{path:"distribution",query:{bool:{must:{match:{"distribution.encodingFormat":"application/rab"}}}}}}]}}}:null}},dl0f:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("1wtQ"),o="grey-1";n.a[o]},e8x1:function(e,t,r){"use strict";var n=r("cpVT"),o=r("nKUr"),c=(r("q1tI"),r("Vvt1"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var i=r.n(c)()((function(){return r.e(28).then(r.bind(null,"gNtA"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["gNtA"]},modules:["./nexus-plugin"]}});t.a=function(e){return Object(o.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}},jKvr:function(e){e.exports=JSON.parse('{"cACpyr":["95822014","95914000","95914001","95912007","95914004","95912006","95824006","95831001","95822017","95831006","95822000","95912001","95912000","95831002","95822007","95824001","95831000","95912002","95824005","95831004","95914005","95822018","95824000","95822016","95824004","95912005","95810037","95810032","95810043","95822006","95810012","95810022","95810018","95810030","95810025","95817003","95810031","95817010","95810039","95817007","95810026","95810027","95810028","95817006","95810023","95810024","95914003","95912004","95822013","95817009","95822012","95914002","95808023","95810042","95808021","95810041","95817005","95810009","95810044","95810020","95810007","95810015","95810033","95808024","95822001","95817008","95810038","95810029","95810010","95810008","95810013","95817004","95824002","95810014","95808022","95810019","95810034","95810011","95810006","95808025","95810017","95822015","95810040","95824003","95822010","95810021","95822002","95822008","95810016","95822011","95831003","95831005","95822003","95822009","95822021","95822019","95822020","95822004","95822005","95912003"],"cAC":["98205017","98205018","97428003","98205021","97428002","97509009","97428001","98205024","98205025","97509008","98205022","97428000","98205020","97509011","97509010"],"cNAC":["98120002","98D15009","98120000","99111007","99111004","95817000","98513011","98120001","95817002","95817001","99111005","98D15008","99111008","99111006","97717005","98513009","98513010"],"bAC":["95810035","99111000","99111002","95810036","99111001","96711009","97911000","97911001","97911002"]}')},ljg6:function(e,t,r){e.exports={selector:"neuron-electrophysiology_selector__1wLqj",selectorColumn:"neuron-electrophysiology_selectorColumn__37KZ_",selectorHead:"neuron-electrophysiology_selectorHead__3N8Kc",selectorBody:"neuron-electrophysiology_selectorBody__35I10"}},nhKx:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return B}));var n=r("nKUr"),o=r("g4pe"),c=r.n(o),s=r("Pjku"),i=r("cpVT"),a=r("q1tI"),l=r("20a2"),u=r("PEiy"),b=r("5rjX"),j=r("zTiI"),d=r("e8x1"),p=r("LyIA"),f=r("g5GW"),y=r("Nn3z"),h=r("pwSN"),O=r("dl0f"),m=r("/88p"),g=r("v+lZ"),x=r("z7pX"),w=r("LvDl"),v=r("1wtQ");function _(e){return Array.isArray(e)?e:[e]}function P(e){return e.name?e.name:"".concat(e.givenName," ").concat(e.familyName)}function N(e){return e.name?"institution":"person"}var E=function(e){var t=e.traces,r=void 0===t?[]:t,o=Object(u.b)(),c=r.reduce((function(e,t){var r=_(t.contribution).map((function(e){var t;return null===(t=e.agent)||void 0===t?void 0:t["@id"]})).filter(Boolean);return Array.from(new Set([].concat(Object(x.a)(e),Object(x.a)(r))))}),[]),s=Object(a.useState)(null),i=s[0],l=s[1];return Object(a.useEffect)((function(){if(c.length){var e={from:0,size:100,query:{terms:{_id:c}}};o.View.elasticSearchQuery(v.d.org,v.d.project,v.d.datasetViewId,e).then((function(e){return e.hits.hits})).then((function(e){return e.map((function(e){return e._source}))})).then((function(e){return e.map((function(e){return{id:e["@id"],label:P(e),type:N(e)}}))})).then((function(e){return Object(w.keyBy)(e,"id")})).then((function(e){return l(e)}))}}),[r]),Object(n.jsx)("div",{className:"layer-anatomy-summary__basis mt-2",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"E-Type"}),Object(n.jsx)("th",{children:"Contribution"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"text-capitalize",children:e.name}),Object(n.jsx)("td",{children:e.annotation.hasBody.label}),Object(n.jsx)("td",{children:i&&_(e.contribution).map((function(e){return i[e.agent["@id"]]})).sort((function(e,t){return e.type>t.type?1:-1})).map((function(e){return Object(n.jsxs)("span",{children:[e.label," ",Object(n.jsx)("br",{})]},e.label)}))})]},e.name)}))})]})})},q=r("jKvr"),D=r("ljg6"),S=r.n(D);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var A=function(){var e=Object(l.useRouter)(),t=Object(u.b)(),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.query),o=function(t){e.push({query:t,pathname:e.pathname},void 0,{shallow:!0})},c=r.etype,s=r.etype_instance,a=Object.keys(q).sort(),x=c?q[c].sort():[],w=function(e){return e.map((function(e){return e._source})).sort((function(e,t){return e.name>t.name?1:-1}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{color:O.a,backgroundAlt:!0,hasData:!!c&&!!s,children:Object(n.jsxs)("div",{className:"row bottom-xs w-100",children:[Object(n.jsxs)("div",{className:"col-xs-12 col-lg-6",children:[Object(n.jsx)(y.a,{primaryColor:O.a,title:Object(n.jsxs)("span",{children:["Neuron ",Object(n.jsx)("br",{})," Electrophysiology"]}),subtitle:"Experimental Data"}),Object(n.jsx)(h.a,{color:"grey-1",text:"We recorded electrical traces from neurons using single-cell recording experiments in brain slices. Then, we classified the traces in different electrical types (e-types) based on their firing patterns. We have identified one e-type for excitatory cells and four e-types for inhibitory cells."})]}),Object(n.jsx)("div",{className:"col-xs-12 col-lg-4 col-lg-offset-1",children:Object(n.jsxs)("div",{className:S.a.selector,children:[Object(n.jsx)("div",{className:S.a.selectorHead,children:"Select cell type"}),Object(n.jsxs)("div",{className:S.a.selectorBody,children:[Object(n.jsx)(m.a,{list:a,value:c,title:"e-type",color:O.a,onSelect:function(e){o({etype:e,etype_instance:s})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{list:x,value:s,title:"Experiment instance (".concat(x.length,")"),color:O.a,onSelect:function(e){o({etype:c,etype_instance:e})}})]})]})})]})}),Object(n.jsxs)(j.a,{visible:!!c&&!!s,children:[Object(n.jsx)(g.a,{title:"Electrophysiological Recordings for ".concat(c,"_").concat(s),children:Object(n.jsx)(b.a,{query:Object(p.a)(c,s),children:function(e){return Object(n.jsx)(n.Fragment,{children:!!e&&!!e.length&&Object(n.jsx)(d.a,{name:"neuron-electrophysiology",resource:e[0]._source,nexusClient:t})})}})}),Object(n.jsxs)(g.a,{title:"Population",className:"mt-4",children:[Object(n.jsx)("h3",{className:"mt-3",children:"Experimental instances"}),Object(n.jsx)(b.a,{query:Object(p.b)(c),children:function(e){return Object(n.jsx)(n.Fragment,{children:!!e&&Object(n.jsx)(E,{traces:w(e)})})}})]})]})]})};function B(){return Object(n.jsxs)(s.a,{children:[Object(n.jsxs)(c.a,{children:[Object(n.jsx)("script",{src:"https://www.unpkg.com/systemjs@6.1.7/dist/system.js"},"sysjs"),Object(n.jsx)("script",{src:"https://www.unpkg.com/systemjs@6.1.7/dist/extras/named-exports.js"},"sysjs-named-exports"),Object(n.jsx)("script",{type:"systemjs-importmap",src:"/model/systemjs-importmap.json"},"sysjs-importmap")]}),Object(n.jsx)(A,{})]})}},tciF:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimental-data/neuronal-electrophysiology",function(){return r("nhKx")}])}},[["tciF",1,0,3,5,8,2,4,6,7]]]);