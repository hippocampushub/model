(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{6757:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimental-data/neuronal-electrophysiology",function(){return n(1616)}])},1616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),o=n(7294),i=n(1163),c=n(8818),s=n(9707),l=n(6616),a=n(5853),u=n(8928),d=n(8764),h=n(3692),f=n(2160),y=n(7142),m=n(6940),p=n(7070),x=n(176),g=n(6486),j=n(6704),b=n(5645),v=n.n(b);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return Array.isArray(e)?e:[e]}function S(e){return e.name?e.name:"".concat(e.givenName," ").concat(e.familyName)}function A(e){return e.name?"institution":"person"}var C=function(e){var t=e.currentTrace,n=e.traces,i=void 0===n?[]:n,s=(0,c.I)(),l=i.reduce((function(e,t){var n=w(t.contribution).map((function(e){var t;return null===(t=e.agent)||void 0===t?void 0:t["@id"]})).filter(Boolean);return Array.from(new Set(N(e).concat(N(n))))}),[]),a=(0,o.useState)(null),u=a[0],d=a[1];(0,o.useEffect)((function(){if(l.length){var e={from:0,size:100,query:{terms:{_id:l}}};s.View.elasticSearchQuery(j.a.org,j.a.project,j.a.datasetViewId,e).then((function(e){return e.hits.hits})).then((function(e){return e.map((function(e){return e._source}))})).then((function(e){return e.map((function(e){return{id:e["@id"],label:S(e),type:A(e)}}))})).then((function(e){return(0,g.keyBy)(e,"id")})).then((function(e){return d(e)}))}}),[i]);var h=function(e){return e.name===t};return(0,r.jsx)("div",{id:i.length&&u?"expTraceTable":null,className:"layer-anatomy-summary__basis mt-2",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:v().highlightedRowBg,children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"E-Type"}),(0,r.jsx)("th",{children:"Contribution"})]})}),(0,r.jsx)("tbody",{children:i.map((function(e){return(0,r.jsxs)("tr",{className:h(e)?v().highlightedRowBg:void 0,children:[(0,r.jsx)("td",{className:"text-capitalize ".concat(h(e)?"text-bold":void 0),children:e.name}),(0,r.jsx)("td",{className:"text-capitalize ".concat(h(e)?"text-bold":void 0),children:e.annotation.hasBody.label}),(0,r.jsx)("td",{children:u&&w(e.contribution).map((function(e){return u[e.agent["@id"]]})).sort((function(e,t){return e.type>t.type?1:-1})).map((function(e){return(0,r.jsxs)("span",{children:[e.label," ",(0,r.jsx)("br",{})]},e.label)}))})]},e.name)}))})]})})},E=JSON.parse('{"cNAC":["95817000","95817001","95817002","99111004","99111006","98D15008","97717005","98D15009","98513011"],"cACpyr":["95810008","95831004","95817004","95810007","95810013","95810006","95810012","95810022","95810037","95817003","95810023","95810039","95810028","95810010","95810011","95810038","95810014","95824000","95824004","95912005","95810029","95822000","95810015","95824006","95817008","95912006","95822001","95914002","95822003","95822011","95914004","95914003","95822009","95810033","95822010","95810031","95831000","95810032","95822002","95810040","95817005","95810041","95810030","95810025","95810026","95817006","95831003","95810027","95831002","95810024","95817007"],"cAC":["97428000","97428001","98205021","97509010","98205025","98205024","97509011","98205022","97509009","97509008"],"bAC":["95810035","95810036","97911002","97911001","97911000","99111001","99111000","99111002"]}'),O=n(6797),Z=n.n(O);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(){var e=(0,i.useRouter)(),t=(0,c.I)(),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}({},e.query),o=function(t){e.push({query:t,pathname:e.pathname},void 0,{shallow:!0})},g=n.etype,j=n.etype_instance,b=Object.keys(E).sort(),v=g?E[g].sort():[],_=function(e){return e.map((function(e){return e._source})).sort((function(e,t){return e.name>t.name?1:-1}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{backgroundAlt:!0,children:(0,r.jsxs)("div",{className:"row bottom-xs w-100",children:[(0,r.jsxs)("div",{className:"col-xs-12 col-lg-6",children:[(0,r.jsx)(f.Z,{primaryColor:m.rp,title:(0,r.jsxs)("span",{children:["Neuron ",(0,r.jsx)("br",{})," Electrophysiology"]}),subtitle:"Experimental Data"}),(0,r.jsx)(y.Z,{color:"grey-1",text:"We recorded electrical traces from neurons using single-cell recording experiments in brain slices. Then, we classified the traces in different electrical types (e-types) based on their firing patterns. We have identified one e-type for excitatory cells and four e-types for inhibitory cells."})]}),(0,r.jsx)("div",{className:"col-xs-12 col-lg-4 col-lg-offset-1",children:(0,r.jsxs)("div",{className:Z().selector,children:[(0,r.jsx)("div",{className:Z().selectorHead,children:"Select cell type"}),(0,r.jsxs)("div",{className:Z().selectorBody,children:[(0,r.jsx)(p.Z,{list:b,value:g,title:"e-type",color:m.rp,onSelect:function(e){o({etype:e,etype_instance:j})}}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(p.Z,{list:v,value:j,title:"Experiment instance (".concat(v.length,")"),color:m.rp,onSelect:function(e){o({etype:g,etype_instance:e})},anchor:"data"})]})]})})]})}),(0,r.jsxs)(a.Z,{visible:!!j,children:[(0,r.jsx)(x.Z,{id:"instanceSection",title:"Electrophysiological Recordings for ".concat(g,"_").concat(j),children:(0,r.jsx)(l.Z,{query:(0,d.PC)(g,j),children:function(e){return(0,r.jsx)(r.Fragment,{children:!!e&&!!e.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{name:"neuron-electrophysiology",resource:e[0]._source,nexusClient:t}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)(s.Z,{className:"mr-1",type:"primary",size:"small",href:"/build/data/electrophysiology?query=".concat(encodeURIComponent(j)),children:"Send to the Build section"})})]})})}})}),(0,r.jsxs)(x.Z,{id:"etypeSection",className:"mt-4",title:"Population",children:[(0,r.jsx)("h3",{className:"mt-3",children:"Experimental instances"}),(0,r.jsx)(l.Z,{query:(0,d.d_)(g),children:function(e){return(0,r.jsx)(r.Fragment,{children:!!e&&(0,r.jsx)(C,{traces:_(e),currentTrace:j})})}})]})]})]})};function k(){return(0,r.jsx)(T,{})}},5645:function(e){e.exports={highlightedRowBg:"styles_highlightedRowBg__KXEdg"}},6797:function(e){e.exports={selector:"neuron-electrophysiology_selector__MCmCG",selectorColumn:"neuron-electrophysiology_selectorColumn__VgH4S",selectorHead:"neuron-electrophysiology_selectorHead__AsJgx",selectorBody:"neuron-electrophysiology_selectorBody__owuqe"}}},function(e){e.O(0,[866,662,221,774,888,179],(function(){return t=6757,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=neuronal-electrophysiology-15f9c79085a8720a.js.map