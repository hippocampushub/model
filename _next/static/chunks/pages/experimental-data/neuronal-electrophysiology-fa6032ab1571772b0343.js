(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{4970:function(e,t,r){"use strict";var n=r(5893),o=r(6265),i=r(4121),c=r(7294),s=r(8818),l=r(3788);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.query,r=e.children,o=c.useState({data:null,loading:!1,error:null}),a=(0,i.Z)(o,2),d=a[0],f=a[1],p=(0,s.I)();return c.useEffect((function(){t&&(f(u(u({},d),{},{loading:!0,data:null})),p.View.elasticSearchQuery(l.a.org,l.a.project,l.a.datasetViewId,t).then((function(e){return f(u(u({},d),{},{loading:!1,data:e.hits.hits}))})).catch((function(e){return f(u(u({},d),{},{loading:!1,error:e}))})))}),[t]),(0,n.jsx)(n.Fragment,{children:r(d.data,d.loading,d.error)})}},3795:function(e,t,r){"use strict";var n=r(6265),o=r(5893);r(7294);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var c=(0,r(5152).default)((function(){return r.e(324).then(r.bind(r,7324))}),{ssr:!1,loadableGenerated:{webpack:function(){return[7324]},modules:["../components/NexusPlugin/index.tsx -> ./nexus-plugin"]}});t.Z=function(e){return(0,o.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}},7774:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var n=r(5893),o=r(7294),i=r(2446),c=r(6265),s=r(1163),l=r(8818),a=r(8222),u=r(4970),d=r(369),f=r(3795),p=r(4214),y=r(7406),h=r(7517),b=r(9935),m=r(9271),j=r(189),x=r(6001),g=r(9999),O=r(6486),v=r(3788);function w(e){return Array.isArray(e)?e:[e]}function _(e){return e.name?e.name:"".concat(e.givenName," ").concat(e.familyName)}function P(e){return e.name?"institution":"person"}var N=function(e){var t=e.traces,r=void 0===t?[]:t,i=(0,l.I)(),c=r.reduce((function(e,t){var r=w(t.contribution).map((function(e){var t;return null===(t=e.agent)||void 0===t?void 0:t["@id"]})).filter(Boolean);return Array.from(new Set([].concat((0,g.Z)(e),(0,g.Z)(r))))}),[]),s=(0,o.useState)(null),a=s[0],u=s[1];return(0,o.useEffect)((function(){if(c.length){var e={from:0,size:100,query:{terms:{_id:c}}};i.View.elasticSearchQuery(v.a.org,v.a.project,v.a.datasetViewId,e).then((function(e){return e.hits.hits})).then((function(e){return e.map((function(e){return e._source}))})).then((function(e){return e.map((function(e){return{id:e["@id"],label:_(e),type:P(e)}}))})).then((function(e){return(0,O.keyBy)(e,"id")})).then((function(e){return u(e)}))}}),[r]),(0,n.jsx)("div",{id:r.length&&a?"expTraceTable":null,className:"layer-anatomy-summary__basis mt-2",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"E-Type"}),(0,n.jsx)("th",{children:"Contribution"})]})}),(0,n.jsx)("tbody",{children:r.map((function(e){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-capitalize",children:e.name}),(0,n.jsx)("td",{children:e.annotation.hasBody.label}),(0,n.jsx)("td",{children:a&&w(e.contribution).map((function(e){return a[e.agent["@id"]]})).sort((function(e,t){return e.type>t.type?1:-1})).map((function(e){return(0,n.jsxs)("span",{children:[e.label," ",(0,n.jsx)("br",{})]},e.label)}))})]},e.name)}))})]})})},Z=JSON.parse('{"cNAC":["95817000","95817001","95817002","99111004","99111006","98D15008","97717005","98D15009","98513011"],"cACpyr":["95810008","95831004","95817004","95810007","95810013","95810006","95810012","95810022","95810037","95817003","95810023","95810039","95810028","95810010","95810011","95810038","95810014","95824000","95824004","95912005","95810029","95822000","95810015","95824006","95817008","95912006","95822001","95914002","95822003","95822011","95914004","95914003","95822009","95810033","95822010","95810031","95831000","95810032","95822002","95810040","95817005","95810041","95810030","95810025","95810026","95817006","95831003","95810027","95831002","95810024","95817007"],"cAC":["97428000","97428001","98205021","97509010","98205025","98205024","97509011","98205022","97509009","97509008"],"bAC":["95810035","95810036","97911002","97911001","97911000","99111001","99111000","99111002"]}'),E=r(9069),S=r.n(E);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var C=function(){var e=(0,s.useRouter)(),t=(0,l.I)(),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.query),o=function(t){e.push({query:t,pathname:e.pathname},void 0,{shallow:!0})},i=r.etype,g=r.etype_instance,O=Object.keys(Z).sort(),v=i?Z[i].sort():[],w=function(e){return e.map((function(e){return e._source})).sort((function(e,t){return e.name>t.name?1:-1}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{backgroundAlt:!0,children:(0,n.jsxs)("div",{className:"row bottom-xs w-100",children:[(0,n.jsxs)("div",{className:"col-xs-12 col-lg-6",children:[(0,n.jsx)(h.Z,{primaryColor:m.rp,title:(0,n.jsxs)("span",{children:["Neuron ",(0,n.jsx)("br",{})," Electrophysiology"]}),subtitle:"Experimental Data"}),(0,n.jsx)(b.Z,{color:"grey-1",text:"We recorded electrical traces from neurons using single-cell recording experiments in brain slices. Then, we classified the traces in different electrical types (e-types) based on their firing patterns. We have identified one e-type for excitatory cells and four e-types for inhibitory cells."})]}),(0,n.jsx)("div",{className:"col-xs-12 col-lg-4 col-lg-offset-1",children:(0,n.jsxs)("div",{className:S().selector,children:[(0,n.jsx)("div",{className:S().selectorHead,children:"Select cell type"}),(0,n.jsxs)("div",{className:S().selectorBody,children:[(0,n.jsx)(j.Z,{list:O,value:i,title:"e-type",color:m.rp,onSelect:function(e){o({etype:e,etype_instance:g})}}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(j.Z,{list:v,value:g,title:"Experiment instance (".concat(v.length,")"),color:m.rp,onSelect:function(e){o({etype:i,etype_instance:e})},anchor:"data"})]})]})})]})}),(0,n.jsxs)(d.Z,{visible:!!g,children:[(0,n.jsx)(x.Z,{id:"instanceSection",title:"Electrophysiological Recordings for ".concat(i,"_").concat(g),children:(0,n.jsx)(u.Z,{query:(0,p.PC)(i,g),children:function(e){return(0,n.jsx)(n.Fragment,{children:!!e&&!!e.length&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{name:"neuron-electrophysiology",resource:e[0]._source,nexusClient:t}),(0,n.jsx)("div",{className:"text-right",children:(0,n.jsx)(a.Z,{className:"mr-1",type:"primary",size:"small",href:"/build/data/electrophysiology?query=".concat(encodeURIComponent(g)),children:"Send to the Build section"})})]})})}})}),(0,n.jsxs)(x.Z,{id:"etypeSection",className:"mt-4",title:"Population",children:[(0,n.jsx)("h3",{className:"mt-3",children:"Experimental instances"}),(0,n.jsx)(u.Z,{query:(0,p.d_)(i),children:function(e){return(0,n.jsx)(n.Fragment,{children:!!e&&(0,n.jsx)(N,{traces:w(e)})})}})]})]})]})};function D(){return(0,n.jsx)(i.Z,{children:(0,n.jsx)(C,{})})}},4214:function(e,t,r){"use strict";r.d(t,{PC:function(){return n},$W:function(){return o},tr:function(){return i},d_:function(){return c}});var n=function(e,t){return e&&t?{from:0,size:100,query:{bool:{filter:[{bool:{must:[{term:{"@type":"Trace"}}]}},{bool:{must:{term:{"name.raw":t}}}},{nested:{path:"annotation.hasBody",query:{bool:{filter:{term:{"annotation.hasBody.label.raw":e}}}}}},{nested:{path:"distribution",query:{bool:{must:{match:{"distribution.encodingFormat":"application/nwb"}}}}}}]}}}:null},o=function(e){return e?{from:0,size:200,query:{bool:{filter:[{bool:{should:[{term:{_deprecated:!1}}]}},{bool:{should:[{term:{"@type":"ReconstructedCell"}}]}},{nested:{path:"annotation.hasBody",query:{bool:{filter:[{term:{"annotation.hasBody.label.raw":e}}]}}}}]}}}:null},i=function(e,t){return e&&t?{from:0,size:100,query:{bool:{filter:[{bool:{should:[{term:{_deprecated:!1}}]}},{bool:{should:[{term:{"@type":"NeuronMorphology"}}]}},{bool:{should:[{term:{"name.raw":t}}]}}]}}}:null},c=function(e){return e?{from:0,size:1e4,query:{bool:{filter:[{bool:{must:[{term:{"@type":"Trace"}}]}},{bool:{must_not:{exists:{field:"note"}}}},{nested:{path:"annotation.hasBody",query:{bool:{filter:{term:{"annotation.hasBody.label.raw":e}}}}}},{nested:{path:"distribution",query:{bool:{must:{match:{"distribution.encodingFormat":"application/rab"}}}}}}]}}}:null}},9271:function(e,t,r){"use strict";r.d(t,{rp:function(){return o}});var n=r(3788),o="grey-1";n.FN[o]},6757:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimental-data/neuronal-electrophysiology",function(){return r(7774)}])},9069:function(e){e.exports={selector:"neuron-electrophysiology_selector__1wLqj",selectorColumn:"neuron-electrophysiology_selectorColumn__37KZ_",selectorHead:"neuron-electrophysiology_selectorHead__3N8Kc",selectorBody:"neuron-electrophysiology_selectorBody__35I10"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,866,662,739,311,888,179],(function(){return t(8846),t(6757)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=neuronal-electrophysiology-fa6032ab1571772b0343.js.map