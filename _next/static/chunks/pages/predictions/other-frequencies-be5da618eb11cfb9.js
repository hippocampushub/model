(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{29003:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/predictions/other-frequencies",function(){return l(54062)}])},54062:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return OtherFrequenciesPage}});var a=l(85893),n=l(9008),s=l.n(n),i=l(67294),r=l(11163),c=l(71376),o=l(82718),p=l(78433),u=l(67264),m=l(13210),d=l(3725),h=l(50818),y=l(35930),f=l(2207),x=l(64632),g=l(22923),j=l(17931),_=l(91968),b=l(33638),q=l(42978);let k=[.1,.2,.4,.8],v=[0,1,2,4,6,8,10,12,20,30,40,50,60,70,80,90,100,120,140,160,180,200];var OtherFrequencies=()=>{let e=(0,r.useRouter)(),[t,l]=(0,i.useState)({}),[n,s]=(0,i.useState)(null),[S,w]=(0,i.useState)(null),[F,N]=(0,i.useState)(null),[E,M]=(0,i.useState)(null),getMtypes=()=>[...new Set(g.map(e=>e.mtype))].sort(),getEtypes=e=>[...new Set(g.filter(t=>t.mtype===e).map(e=>e.etype))].sort();(0,i.useEffect)(()=>{if(!e.isReady)return;let{mtype:t,etype:a,signal_frequency:n,cell_frequency:s}=e.query,i={};if("string"==typeof t&&(i.mtype=t),"string"==typeof n&&(i.signal_frequency=parseFloat(n)),"string"==typeof s&&(i.cell_frequency=parseFloat(s)),"string"==typeof t){let e=getEtypes(t);i.etype="string"==typeof a&&e.includes(a)?a:e[0]||""}if(l(i),0===Object.keys(i).length){let t=getMtypes()[0],a={mtype:t,etype:getEtypes(t)[0]||"",signal_frequency:0,cell_frequency:.1};l(a),e.replace({query:a},void 0,{shallow:!0})}},[e.isReady,e.query]),(0,i.useEffect)(()=>{let fetchData=async()=>{let{signal_frequency:e,cell_frequency:l,mtype:a,etype:n}=t;if(void 0===e||void 0===l||!a||!n)return;let i="".concat(j.$N,"/5_prediction/other-frequencies/").concat(l,"-").concat(e,"/").concat(a,"-").concat(n);for(let{name:e,setter:t}of[{name:"spike-time",setter:s},{name:"mean-firing-rate",setter:w},{name:"trace",setter:N}])try{let l=await fetch("".concat(i,"/").concat(e,".json"));if(l.ok){let e=await l.json();t(e)}else if(404===l.status)console.warn("".concat(e," data not found")),t(null);else throw Error("HTTP error! status: ".concat(l.status))}catch(l){console.error("Error fetching ".concat(e," data:"),l),t(null)}try{let e=await fetch("".concat(i,"/spike-time-plot.svg"));if(e.ok){let t=await e.text();M(t)}else if(404===e.status)console.warn("Spike time plot SVG not found"),M(null);else throw Error("HTTP error! status: ".concat(e.status))}catch(e){console.error("Error fetching spike-time-plot.svg:",e),M(null)}};fetchData()},[t]);let setParams=t=>{let l={...e.query,...t};e.push({query:l,pathname:e.pathname},void 0,{shallow:!0})},handleMtypeSelect=e=>{let t=getEtypes(e),a=t[0]||"";l(t=>({...t,mtype:e,etype:a})),setParams({mtype:e,etype:a})},handleEtypeSelect=e=>{l(t=>({...t,etype:e})),setParams({etype:e})},T=getMtypes(),Z=getEtypes(t.mtype);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{theme:5,hasData:!!t.mtype&&!!t.etype,children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row w-full lg:items-center mt-40 lg:mt-0",children:[(0,a.jsx)("div",{className:"w-full lg:w-1/2 md:w-full md:flex-none mb-8 md:mb-8 lg:pr-0",children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(p.Z,{title:"Other Frequencies",subtitle:"Predictions",theme:5}),(0,a.jsx)("div",{role:"information",children:(0,a.jsx)(u.Z,{children:(0,a.jsx)("p",{children:"We stimulated the Schaffer collaterals (SC) at different mean frequencies (0.1-0.8 Hz) (cell_frequency). The signal is further modulated with a sinusoidal function of different frequencies (0.5-200 Hz) (signal_frequency). In general, CA1 activity reliably follows the same signal rhythm favoring intermediated frequencies (1 - 30 Hz)."})})})]})}),(0,a.jsx)("div",{className:"flex flex-col gap-8 mb-12 md:mb-0 mx-8 md:mx-0 lg:w-1/2 md:w-full flex-grow md:flex-none justify-center",style:{maxWidth:"800px"},children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow p-0 m-0",children:[(0,a.jsxs)("div",{className:"selector__column theme-".concat(5," flex-1"),style:{maxWidth:"auto"},children:[(0,a.jsx)("div",{className:"selector__head theme-".concat(5),children:"2. Select extracellular conditions"}),(0,a.jsx)("div",{className:"selector__body",children:(0,a.jsx)(d.Z,{path:"5_prediction/other-frequencies/",xRange:k,yRange:v,xAxisLabel:"signal_frequency",yAxisLabel:"Cell Frequency",theme:5,onSelect:(e,t)=>{l(l=>({...l,signal_frequency:t,cell_frequency:e})),setParams({signal_frequency:t,cell_frequency:e})},selectedX:t.cell_frequency,selectedY:t.signal_frequency})})]}),(0,a.jsxs)("div",{className:"selector__column theme-".concat(5," flex-1"),children:[(0,a.jsx)("div",{className:"selector__head theme-".concat(5),children:"3. Select cell types"}),(0,a.jsxs)("div",{className:"selector__body",children:[(0,a.jsx)(m.Z,{block:!0,list:T,value:t.mtype,title:"M-type ".concat(T.length?"("+T.length+")":""),onSelect:handleMtypeSelect,theme:5}),(0,a.jsx)(m.Z,{block:!0,list:Z,value:t.etype,title:"E-type ".concat(Z.length?"("+Z.length+")":""),onSelect:handleEtypeSelect,theme:5})]})]})]})})]})}),(0,a.jsxs)(h.Z,{theme:5,navItems:[{id:"spikeTimeSection",label:"Spike Time"},{id:"meanFiringRateSection",label:"Mean Firing Rate"},{id:"traceSection",label:"Traces"}],quickSelectorEntries:[{title:"Cell Frequency",key:"cell_frequency",getValuesFn:()=>k,sliderRange:k},{title:"Signal Frequency",key:"signal_frequency",getValuesFn:()=>v,sliderRange:v},{title:"M-type",key:"mtype",values:T,setFn:handleMtypeSelect},{title:"E-Type",key:"etype",values:Z,setFn:handleEtypeSelect}],children:[(0,a.jsxs)(y.Z,{id:"spikeTimeSection",properties:[t.mtype+"-"+t.etype],title:"Spike Time",children:[(0,a.jsx)("div",{className:"graph",children:E?(0,a.jsx)("div",{className:"svg-container",style:{width:"100%",height:"550px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:E},className:"svg-content"})}):(0,a.jsx)(f.Z,{plotData:n})}),(0,a.jsxs)(b.Z,{theme:5,onClick:()=>(0,q.KO)(n,"spike-time-".concat(t.mtype,"-").concat(t.etype,"_").concat(t.signal_frequency,"-").concat(t.cell_frequency)),children:["Spike time","  ",(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.mtype,"-",t.etype]}),(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.signal_frequency,"-",t.cell_frequency]})]})]}),(0,a.jsxs)(y.Z,{id:"meanFiringRateSection",properties:[t.mtype+"-"+t.etype],title:"Mean Firing Rate",children:[(0,a.jsx)("div",{className:"graph",children:(0,a.jsx)(x.Z,{plotData:S,xAxis:"Firing Rate (Hz)",yAxis:"Frequency",xAxisTickStep:.05})}),(0,a.jsxs)(b.Z,{theme:5,onClick:()=>(0,q.KO)(S,"mean-firing-rate-".concat(t.mtype,"-").concat(t.etype,"_").concat(t.signal_frequency,"-").concat(t.cell_frequency)),children:["Mean Firing Rate","  ",(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.mtype,"-",t.etype]}),(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.signal_frequency,"-",t.cell_frequency]})]})]}),(0,a.jsxs)(y.Z,{id:"traceSection",title:"Traces",children:[(0,a.jsx)("div",{className:"graph",children:(0,a.jsx)(_.Z,{plotData:F})}),(0,a.jsxs)(b.Z,{theme:5,onClick:()=>(0,q.KO)(F,"trace-".concat(t.mtype,"-").concat(t.etype,"_").concat(t.signal_frequency,"-").concat(t.cell_frequency)),children:["Trace","  ",(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.mtype,"-",t.etype]}),(0,a.jsxs)("span",{className:"!ml-0 collapsible-property small",children:[t.signal_frequency,"-",t.cell_frequency]})]})]})]})]})};function OtherFrequenciesPage(){let e={title:"Other Frequencies - Predictions | The Hippocampus Hub",description:"Explore predictions based on other frequencies in the hippocampal model. Visualize the spike time, mean firing rate, and traces under different extracellular conditions and cell frequencies.",keywords:["Other Frequencies","Spike Time","Firing Rate","Hippocampus","Neuroscience","Predictions","Blue Brain Project","The Hippocampus Hub"],author:"Blue Brain Project",creator:"EPFL Blue Brain Project",publisher:"The Hippocampus Hub"};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:e.title}),(0,a.jsx)("meta",{name:"description",content:e.description}),(0,a.jsx)("meta",{name:"keywords",content:e.keywords.join(", ")}),(0,a.jsx)("meta",{name:"author",content:e.author}),(0,a.jsx)("meta",{name:"creator",content:e.creator}),(0,a.jsx)("meta",{name:"publisher",content:e.publisher})]}),(0,a.jsx)(OtherFrequencies,{})]})}},2207:function(e,t,l){"use strict";var a=l(85893),n=l(67294),s=l(5152),i=l.n(s),r=l(60192),c=l(61267),o=l(23279),p=l.n(o);let u=i()(()=>Promise.all([l.e(2960),l.e(8660)]).then(l.bind(l,58660)),{loadableGenerated:{webpack:()=>[58660]},ssr:!1,loading:()=>(0,a.jsx)(r.Z,{className:"w-8 h-8 animate-spin"})});t.Z=e=>{let{plotData:t}=e,[l,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[m,d]=(0,n.useState)({x:[0,0],y:[0,0]}),formatScientificNotation=e=>{if(0===e)return"0";let t=Math.floor(Math.log10(Math.abs(e))),l=e/Math.pow(10,t),a=["⁰","\xb9","\xb2","\xb3","⁴","⁵","⁶","⁷","⁸","⁹"],n=Math.abs(t).toString().split("").map(e=>a[parseInt(e)]).join("");return"".concat(Math.round(100*l)/100,"*10").concat(t<0?"⁻":"").concat(n)},h=(0,n.useCallback)(e=>{if(!e||!e.value_map||!e.value_map.t||!e.value_map.gid){o(null),s(!1);return}s(!0);let{t,gid:l}=e.value_map,a=Object.values(t),n=Object.values(l),i=a,r=n;if(a.length>1e5){let e=Math.ceil(a.length/1e5);i=a.filter((t,l)=>l%e==0),r=n.filter((t,l)=>l%e==0)}o([{x:i,y:r,type:"scatter",mode:"markers",marker:{color:c.x8.blue,size:2}}]),d({x:[Math.min(...i),Math.max(...i)],y:[Math.min(...r),Math.max(...r)]}),s(!1)},[]),y=(0,n.useCallback)(p()(h,300),[h]);(0,n.useEffect)(()=>(Array.isArray(t)?y(t[0]):t?y(t):(o(null),s(!1)),()=>{y.cancel()}),[t,y]);let f=(0,n.useCallback)(function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=t-e,n=a/(l-1);return Array.from({length:l},(t,l)=>e+l*n)},[]),x=(0,n.useMemo)(()=>{let e=f(m.x[0],m.x[1]),t=f(m.y[0],m.y[1]);return{xaxis:{title:"Time (ms)",color:"#666666",titlefont:{size:12},tickfont:{color:"#666666",size:10},showgrid:!1,tickmode:"array",tickvals:e,ticktext:e.map(e=>Math.round(e).toString())},yaxis:{title:{text:"Neuron Index",standoff:20},color:"#666666",titlefont:{size:12},tickfont:{color:"#666666",size:10},showgrid:!1,tickmode:"array",tickvals:t,ticktext:t.map(formatScientificNotation)},autosize:!0,plot_bgcolor:"#EFF1F8",paper_bgcolor:"#EFF1F8",showlegend:!1,margin:{l:60,r:10,b:50,t:10,pad:4}}},[m,f,formatScientificNotation]);return(0,a.jsx)("div",{style:{width:"100%",height:"400px",position:"relative",backgroundColor:"#EFF1F8"},children:l?(0,a.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,a.jsx)(r.Z,{className:"w-8 h-8 animate-spin"})}):i?(0,a.jsx)(u,{data:i,layout:x,config:{responsive:!0,displayModeBar:!0},style:{width:"100%",height:"100%"}}):(0,a.jsx)("p",{className:"text-center text-gray-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:"No data available."})})}}},function(e){e.O(0,[1228,2196,7056,9676,4922,8287,7577,9774,2888,179],function(){return e(e.s=29003)}),_N_E=e.O()}]);